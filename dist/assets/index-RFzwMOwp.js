function pf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var gc={exports:{}},wi={},vc={exports:{}},I={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yr=Symbol.for("react.element"),vf=Symbol.for("react.portal"),yf=Symbol.for("react.fragment"),wf=Symbol.for("react.strict_mode"),_f=Symbol.for("react.profiler"),xf=Symbol.for("react.provider"),kf=Symbol.for("react.context"),Sf=Symbol.for("react.forward_ref"),jf=Symbol.for("react.suspense"),Ef=Symbol.for("react.memo"),Cf=Symbol.for("react.lazy"),Dl=Symbol.iterator;function Nf(e){return e===null||typeof e!="object"?null:(e=Dl&&e[Dl]||e["@@iterator"],typeof e=="function"?e:null)}var yc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wc=Object.assign,_c={};function Yn(e,t,n){this.props=e,this.context=t,this.refs=_c,this.updater=n||yc}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xc(){}xc.prototype=Yn.prototype;function Oa(e,t,n){this.props=e,this.context=t,this.refs=_c,this.updater=n||yc}var La=Oa.prototype=new xc;La.constructor=Oa;wc(La,Yn.prototype);La.isPureReactComponent=!0;var Ul=Array.isArray,kc=Object.prototype.hasOwnProperty,$a={current:null},Sc={key:!0,ref:!0,__self:!0,__source:!0};function jc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)kc.call(t,r)&&!Sc.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Yr,type:e,key:i,ref:o,props:s,_owner:$a.current}}function Pf(e,t){return{$$typeof:Yr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Aa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yr}function Tf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fl=/\/+/g;function Wi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tf(""+e.key):t.toString(36)}function Os(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Yr:case vf:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Wi(o,0):r,Ul(s)?(n="",e!=null&&(n=e.replace(Fl,"$&/")+"/"),Os(s,t,n,"",function(u){return u})):s!=null&&(Aa(s)&&(s=Pf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Fl,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ul(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Wi(i,a);o+=Os(i,t,n,l,s)}else if(l=Nf(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Wi(i,a++),o+=Os(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function us(e,t,n){if(e==null)return e;var r=[],s=0;return Os(e,r,"","",function(i){return t.call(n,i,s++)}),r}function bf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var we={current:null},Ls={transition:null},Rf={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:Ls,ReactCurrentOwner:$a};function Ec(){throw Error("act(...) is not supported in production builds of React.")}I.Children={map:us,forEach:function(e,t,n){us(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return us(e,function(){t++}),t},toArray:function(e){return us(e,function(t){return t})||[]},only:function(e){if(!Aa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};I.Component=Yn;I.Fragment=yf;I.Profiler=_f;I.PureComponent=Oa;I.StrictMode=wf;I.Suspense=jf;I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rf;I.act=Ec;I.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=$a.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)kc.call(t,l)&&!Sc.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Yr,type:e.type,key:s,ref:i,props:r,_owner:o}};I.createContext=function(e){return e={$$typeof:kf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xf,_context:e},e.Consumer=e};I.createElement=jc;I.createFactory=function(e){var t=jc.bind(null,e);return t.type=e,t};I.createRef=function(){return{current:null}};I.forwardRef=function(e){return{$$typeof:Sf,render:e}};I.isValidElement=Aa;I.lazy=function(e){return{$$typeof:Cf,_payload:{_status:-1,_result:e},_init:bf}};I.memo=function(e,t){return{$$typeof:Ef,type:e,compare:t===void 0?null:t}};I.startTransition=function(e){var t=Ls.transition;Ls.transition={};try{e()}finally{Ls.transition=t}};I.unstable_act=Ec;I.useCallback=function(e,t){return we.current.useCallback(e,t)};I.useContext=function(e){return we.current.useContext(e)};I.useDebugValue=function(){};I.useDeferredValue=function(e){return we.current.useDeferredValue(e)};I.useEffect=function(e,t){return we.current.useEffect(e,t)};I.useId=function(){return we.current.useId()};I.useImperativeHandle=function(e,t,n){return we.current.useImperativeHandle(e,t,n)};I.useInsertionEffect=function(e,t){return we.current.useInsertionEffect(e,t)};I.useLayoutEffect=function(e,t){return we.current.useLayoutEffect(e,t)};I.useMemo=function(e,t){return we.current.useMemo(e,t)};I.useReducer=function(e,t,n){return we.current.useReducer(e,t,n)};I.useRef=function(e){return we.current.useRef(e)};I.useState=function(e){return we.current.useState(e)};I.useSyncExternalStore=function(e,t,n){return we.current.useSyncExternalStore(e,t,n)};I.useTransition=function(){return we.current.useTransition()};I.version="18.3.1";vc.exports=I;var S=vc.exports;const Cc=mf(S),Of=pf({__proto__:null,default:Cc},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=S,$f=Symbol.for("react.element"),Af=Symbol.for("react.fragment"),If=Object.prototype.hasOwnProperty,Df=Lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uf={key:!0,ref:!0,__self:!0,__source:!0};function Nc(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)If.call(t,r)&&!Uf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:$f,type:e,key:i,ref:o,props:s,_owner:Df.current}}wi.Fragment=Af;wi.jsx=Nc;wi.jsxs=Nc;gc.exports=wi;var c=gc.exports,Eo={},Pc={exports:{}},Le={},Tc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,N){var R=P.length;P.push(N);e:for(;0<R;){var M=R-1>>>1,Y=P[M];if(0<s(Y,N))P[M]=N,P[R]=Y,R=M;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var N=P[0],R=P.pop();if(R!==N){P[0]=R;e:for(var M=0,Y=P.length,_t=Y>>>1;M<_t;){var it=2*(M+1)-1,sr=P[it],ot=it+1,Qt=P[ot];if(0>s(sr,R))ot<Y&&0>s(Qt,sr)?(P[M]=Qt,P[ot]=R,M=ot):(P[M]=sr,P[it]=R,M=it);else if(ot<Y&&0>s(Qt,R))P[M]=Qt,P[ot]=R,M=ot;else break e}}return N}function s(P,N){var R=P.sortIndex-N.sortIndex;return R!==0?R:P.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,g=3,y=!1,x=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(P){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=P)r(u),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(u)}}function w(P){if(v=!1,f(P),!x)if(n(l)!==null)x=!0,Gt(k);else{var N=n(u);N!==null&&Kt(w,N.startTime-P)}}function k(P,N){x=!1,v&&(v=!1,m(O),O=-1),y=!0;var R=g;try{for(f(N),h=n(l);h!==null&&(!(h.expirationTime>N)||P&&!G());){var M=h.callback;if(typeof M=="function"){h.callback=null,g=h.priorityLevel;var Y=M(h.expirationTime<=N);N=e.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(l)&&r(l),f(N)}else r(l);h=n(l)}if(h!==null)var _t=!0;else{var it=n(u);it!==null&&Kt(w,it.startTime-N),_t=!1}return _t}finally{h=null,g=R,y=!1}}var j=!1,C=null,O=-1,U=5,L=-1;function G(){return!(e.unstable_now()-L<U)}function Ye(){if(C!==null){var P=e.unstable_now();L=P;var N=!0;try{N=C(!0,P)}finally{N?Pe():(j=!1,C=null)}}else j=!1}var Pe;if(typeof p=="function")Pe=function(){p(Ye)};else if(typeof MessageChannel<"u"){var wt=new MessageChannel,Ze=wt.port2;wt.port1.onmessage=Ye,Pe=function(){Ze.postMessage(null)}}else Pe=function(){_(Ye,0)};function Gt(P){C=P,j||(j=!0,Pe())}function Kt(P,N){O=_(function(){P(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,Gt(k))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(g){case 1:case 2:case 3:var N=3;break;default:N=g}var R=g;g=N;try{return P()}finally{g=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,N){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var R=g;g=P;try{return N()}finally{g=R}},e.unstable_scheduleCallback=function(P,N,R){var M=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?M+R:M):R=M,P){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=R+Y,P={id:d++,callback:N,priorityLevel:P,startTime:R,expirationTime:Y,sortIndex:-1},R>M?(P.sortIndex=R,t(u,P),n(l)===null&&P===n(u)&&(v?(m(O),O=-1):v=!0,Kt(w,R-M))):(P.sortIndex=Y,t(l,P),x||y||(x=!0,Gt(k))),P},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(P){var N=g;return function(){var R=g;g=N;try{return P.apply(this,arguments)}finally{g=R}}}})(bc);Tc.exports=bc;var Ff=Tc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=S,Oe=Ff;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rc=new Set,Or={};function hn(e,t){Wn(e,t),Wn(e+"Capture",t)}function Wn(e,t){for(Or[e]=t,e=0;e<t.length;e++)Rc.add(t[e])}var pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Co=Object.prototype.hasOwnProperty,Mf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zl={},Ml={};function Bf(e){return Co.call(Ml,e)?!0:Co.call(zl,e)?!1:Mf.test(e)?Ml[e]=!0:(zl[e]=!0,!1)}function qf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wf(e,t,n,r){if(t===null||typeof t>"u"||qf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){de[e]=new _e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];de[t]=new _e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){de[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){de[e]=new _e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){de[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){de[e]=new _e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){de[e]=new _e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){de[e]=new _e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){de[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ia=/[\-:]([a-z])/g;function Da(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ia,Da);de[t]=new _e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ia,Da);de[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ia,Da);de[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){de[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)});de.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){de[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ua(e,t,n,r){var s=de.hasOwnProperty(t)?de[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wf(t,n,s,r)&&(n=null),r||s===null?Bf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yt=zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cs=Symbol.for("react.element"),jn=Symbol.for("react.portal"),En=Symbol.for("react.fragment"),Fa=Symbol.for("react.strict_mode"),No=Symbol.for("react.profiler"),Oc=Symbol.for("react.provider"),Lc=Symbol.for("react.context"),za=Symbol.for("react.forward_ref"),Po=Symbol.for("react.suspense"),To=Symbol.for("react.suspense_list"),Ma=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),$c=Symbol.for("react.offscreen"),Bl=Symbol.iterator;function ir(e){return e===null||typeof e!="object"?null:(e=Bl&&e[Bl]||e["@@iterator"],typeof e=="function"?e:null)}var X=Object.assign,Vi;function pr(e){if(Vi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vi=t&&t[1]||""}return`
`+Vi+e}var Hi=!1;function Gi(e,t){if(!e||Hi)return"";Hi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pr(e):""}function Vf(e){switch(e.tag){case 5:return pr(e.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 2:case 15:return e=Gi(e.type,!1),e;case 11:return e=Gi(e.type.render,!1),e;case 1:return e=Gi(e.type,!0),e;default:return""}}function bo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case En:return"Fragment";case jn:return"Portal";case No:return"Profiler";case Fa:return"StrictMode";case Po:return"Suspense";case To:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lc:return(e.displayName||"Context")+".Consumer";case Oc:return(e._context.displayName||"Context")+".Provider";case za:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ma:return t=e.displayName||null,t!==null?t:bo(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return bo(e(t))}catch{}}return null}function Hf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bo(t);case 8:return t===Fa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ac(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gf(e){var t=Ac(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ds(e){e._valueTracker||(e._valueTracker=Gf(e))}function Ic(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ac(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ro(e,t){var n=t.checked;return X({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ql(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dc(e,t){t=t.checked,t!=null&&Ua(e,"checked",t,!1)}function Oo(e,t){Dc(e,t);var n=Mt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lo(e,t.type,Mt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lo(e,t,n){(t!=="number"||Hs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mr=Array.isArray;function In(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $o(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return X({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(mr(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mt(n)}}function Uc(e,t){var n=Mt(t.value),r=Mt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ao(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hs,zc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hs=hs||document.createElement("div"),hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kf=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(e){Kf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_r[t]=_r[e]})});function Mc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_r.hasOwnProperty(e)&&_r[e]?(""+t).trim():t+"px"}function Bc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Mc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Qf=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Io(e,t){if(t){if(Qf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Do(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=null;function Ba(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fo=null,Dn=null,Un=null;function Gl(e){if(e=ts(e)){if(typeof Fo!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ji(t),Fo(e.stateNode,e.type,t))}}function qc(e){Dn?Un?Un.push(e):Un=[e]:Dn=e}function Wc(){if(Dn){var e=Dn,t=Un;if(Un=Dn=null,Gl(e),t)for(e=0;e<t.length;e++)Gl(t[e])}}function Vc(e,t){return e(t)}function Hc(){}var Ki=!1;function Gc(e,t,n){if(Ki)return e(t,n);Ki=!0;try{return Vc(e,t,n)}finally{Ki=!1,(Dn!==null||Un!==null)&&(Hc(),Wc())}}function $r(e,t){var n=e.stateNode;if(n===null)return null;var r=ji(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var zo=!1;if(pt)try{var or={};Object.defineProperty(or,"passive",{get:function(){zo=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{zo=!1}function Jf(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var xr=!1,Gs=null,Ks=!1,Mo=null,Xf={onError:function(e){xr=!0,Gs=e}};function Yf(e,t,n,r,s,i,o,a,l){xr=!1,Gs=null,Jf.apply(Xf,arguments)}function Zf(e,t,n,r,s,i,o,a,l){if(Yf.apply(this,arguments),xr){if(xr){var u=Gs;xr=!1,Gs=null}else throw Error(E(198));Ks||(Ks=!0,Mo=u)}}function fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Kc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kl(e){if(fn(e)!==e)throw Error(E(188))}function ep(e){var t=e.alternate;if(!t){if(t=fn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Kl(s),e;if(i===r)return Kl(s),t;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function Qc(e){return e=ep(e),e!==null?Jc(e):null}function Jc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jc(e);if(t!==null)return t;e=e.sibling}return null}var Xc=Oe.unstable_scheduleCallback,Ql=Oe.unstable_cancelCallback,tp=Oe.unstable_shouldYield,np=Oe.unstable_requestPaint,ee=Oe.unstable_now,rp=Oe.unstable_getCurrentPriorityLevel,qa=Oe.unstable_ImmediatePriority,Yc=Oe.unstable_UserBlockingPriority,Qs=Oe.unstable_NormalPriority,sp=Oe.unstable_LowPriority,Zc=Oe.unstable_IdlePriority,_i=null,rt=null;function ip(e){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(_i,e,void 0,(e.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:lp,op=Math.log,ap=Math.LN2;function lp(e){return e>>>=0,e===0?32:31-(op(e)/ap|0)|0}var fs=64,ps=4194304;function gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Js(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=gr(a):(i&=o,i!==0&&(r=gr(i)))}else o=n&~s,o!==0?r=gr(o):i!==0&&(r=gr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qe(t),s=1<<n,r|=e[n],t&=~s;return r}function up(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Qe(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=up(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Bo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ed(){var e=fs;return fs<<=1,!(fs&4194240)&&(fs=64),e}function Qi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qe(t),e[t]=n}function dp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Qe(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Wa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qe(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var z=0;function td(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nd,Va,rd,sd,id,qo=!1,ms=[],Ot=null,Lt=null,$t=null,Ar=new Map,Ir=new Map,Ct=[],hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jl(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":Ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(t.pointerId)}}function ar(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ts(t),t!==null&&Va(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fp(e,t,n,r,s){switch(t){case"focusin":return Ot=ar(Ot,e,t,n,r,s),!0;case"dragenter":return Lt=ar(Lt,e,t,n,r,s),!0;case"mouseover":return $t=ar($t,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ar.set(i,ar(Ar.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ir.set(i,ar(Ir.get(i)||null,e,t,n,r,s)),!0}return!1}function od(e){var t=tn(e.target);if(t!==null){var n=fn(t);if(n!==null){if(t=n.tag,t===13){if(t=Kc(n),t!==null){e.blockedOn=t,id(e.priority,function(){rd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $s(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Uo=r,n.target.dispatchEvent(r),Uo=null}else return t=ts(n),t!==null&&Va(t),e.blockedOn=n,!1;t.shift()}return!0}function Xl(e,t,n){$s(e)&&n.delete(t)}function pp(){qo=!1,Ot!==null&&$s(Ot)&&(Ot=null),Lt!==null&&$s(Lt)&&(Lt=null),$t!==null&&$s($t)&&($t=null),Ar.forEach(Xl),Ir.forEach(Xl)}function lr(e,t){e.blockedOn===t&&(e.blockedOn=null,qo||(qo=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,pp)))}function Dr(e){function t(s){return lr(s,e)}if(0<ms.length){lr(ms[0],e);for(var n=1;n<ms.length;n++){var r=ms[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ot!==null&&lr(Ot,e),Lt!==null&&lr(Lt,e),$t!==null&&lr($t,e),Ar.forEach(t),Ir.forEach(t),n=0;n<Ct.length;n++)r=Ct[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&(n=Ct[0],n.blockedOn===null);)od(n),n.blockedOn===null&&Ct.shift()}var Fn=yt.ReactCurrentBatchConfig,Xs=!0;function mp(e,t,n,r){var s=z,i=Fn.transition;Fn.transition=null;try{z=1,Ha(e,t,n,r)}finally{z=s,Fn.transition=i}}function gp(e,t,n,r){var s=z,i=Fn.transition;Fn.transition=null;try{z=4,Ha(e,t,n,r)}finally{z=s,Fn.transition=i}}function Ha(e,t,n,r){if(Xs){var s=Wo(e,t,n,r);if(s===null)io(e,t,r,Ys,n),Jl(e,r);else if(fp(s,e,t,n,r))r.stopPropagation();else if(Jl(e,r),t&4&&-1<hp.indexOf(e)){for(;s!==null;){var i=ts(s);if(i!==null&&nd(i),i=Wo(e,t,n,r),i===null&&io(e,t,r,Ys,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else io(e,t,r,null,n)}}var Ys=null;function Wo(e,t,n,r){if(Ys=null,e=Ba(r),e=tn(e),e!==null)if(t=fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Kc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ys=e,null}function ad(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rp()){case qa:return 1;case Yc:return 4;case Qs:case sp:return 16;case Zc:return 536870912;default:return 16}default:return 16}}var Tt=null,Ga=null,As=null;function ld(){if(As)return As;var e,t=Ga,n=t.length,r,s="value"in Tt?Tt.value:Tt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return As=s.slice(e,1<r?1-r:void 0)}function Is(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function Yl(){return!1}function $e(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gs:Yl,this.isPropagationStopped=Yl,this}return X(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=$e(Zn),es=X({},Zn,{view:0,detail:0}),vp=$e(es),Ji,Xi,ur,xi=X({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ur&&(ur&&e.type==="mousemove"?(Ji=e.screenX-ur.screenX,Xi=e.screenY-ur.screenY):Xi=Ji=0,ur=e),Ji)},movementY:function(e){return"movementY"in e?e.movementY:Xi}}),Zl=$e(xi),yp=X({},xi,{dataTransfer:0}),wp=$e(yp),_p=X({},es,{relatedTarget:0}),Yi=$e(_p),xp=X({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),kp=$e(xp),Sp=X({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jp=$e(Sp),Ep=X({},Zn,{data:0}),eu=$e(Ep),Cp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pp[e])?!!t[e]:!1}function Qa(){return Tp}var bp=X({},es,{key:function(e){if(e.key){var t=Cp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(e){return e.type==="keypress"?Is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rp=$e(bp),Op=X({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tu=$e(Op),Lp=X({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),$p=$e(Lp),Ap=X({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ip=$e(Ap),Dp=X({},xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Up=$e(Dp),Fp=[9,13,27,32],Ja=pt&&"CompositionEvent"in window,kr=null;pt&&"documentMode"in document&&(kr=document.documentMode);var zp=pt&&"TextEvent"in window&&!kr,ud=pt&&(!Ja||kr&&8<kr&&11>=kr),nu=" ",ru=!1;function cd(e,t){switch(e){case"keyup":return Fp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function Mp(e,t){switch(e){case"compositionend":return dd(t);case"keypress":return t.which!==32?null:(ru=!0,nu);case"textInput":return e=t.data,e===nu&&ru?null:e;default:return null}}function Bp(e,t){if(Cn)return e==="compositionend"||!Ja&&cd(e,t)?(e=ld(),As=Ga=Tt=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ud&&t.locale!=="ko"?null:t.data;default:return null}}var qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qp[e.type]:t==="textarea"}function hd(e,t,n,r){qc(r),t=Zs(t,"onChange"),0<t.length&&(n=new Ka("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Sr=null,Ur=null;function Wp(e){Sd(e,0)}function ki(e){var t=Tn(e);if(Ic(t))return e}function Vp(e,t){if(e==="change")return t}var fd=!1;if(pt){var Zi;if(pt){var eo="oninput"in document;if(!eo){var iu=document.createElement("div");iu.setAttribute("oninput","return;"),eo=typeof iu.oninput=="function"}Zi=eo}else Zi=!1;fd=Zi&&(!document.documentMode||9<document.documentMode)}function ou(){Sr&&(Sr.detachEvent("onpropertychange",pd),Ur=Sr=null)}function pd(e){if(e.propertyName==="value"&&ki(Ur)){var t=[];hd(t,Ur,e,Ba(e)),Gc(Wp,t)}}function Hp(e,t,n){e==="focusin"?(ou(),Sr=t,Ur=n,Sr.attachEvent("onpropertychange",pd)):e==="focusout"&&ou()}function Gp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ki(Ur)}function Kp(e,t){if(e==="click")return ki(t)}function Qp(e,t){if(e==="input"||e==="change")return ki(t)}function Jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xe=typeof Object.is=="function"?Object.is:Jp;function Fr(e,t){if(Xe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Co.call(t,s)||!Xe(e[s],t[s]))return!1}return!0}function au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lu(e,t){var n=au(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=au(n)}}function md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gd(){for(var e=window,t=Hs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hs(e.document)}return t}function Xa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xp(e){var t=gd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&md(n.ownerDocument.documentElement,n)){if(r!==null&&Xa(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=lu(n,i);var o=lu(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yp=pt&&"documentMode"in document&&11>=document.documentMode,Nn=null,Vo=null,jr=null,Ho=!1;function uu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ho||Nn==null||Nn!==Hs(r)||(r=Nn,"selectionStart"in r&&Xa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jr&&Fr(jr,r)||(jr=r,r=Zs(Vo,"onSelect"),0<r.length&&(t=new Ka("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nn)))}function vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pn={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},to={},vd={};pt&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function Si(e){if(to[e])return to[e];if(!Pn[e])return e;var t=Pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vd)return to[e]=t[n];return e}var yd=Si("animationend"),wd=Si("animationiteration"),_d=Si("animationstart"),xd=Si("transitionend"),kd=new Map,cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qt(e,t){kd.set(e,t),hn(t,[e])}for(var no=0;no<cu.length;no++){var ro=cu[no],Zp=ro.toLowerCase(),em=ro[0].toUpperCase()+ro.slice(1);qt(Zp,"on"+em)}qt(yd,"onAnimationEnd");qt(wd,"onAnimationIteration");qt(_d,"onAnimationStart");qt("dblclick","onDoubleClick");qt("focusin","onFocus");qt("focusout","onBlur");qt(xd,"onTransitionEnd");Wn("onMouseEnter",["mouseout","mouseover"]);Wn("onMouseLeave",["mouseout","mouseover"]);Wn("onPointerEnter",["pointerout","pointerover"]);Wn("onPointerLeave",["pointerout","pointerover"]);hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tm=new Set("cancel close invalid load scroll toggle".split(" ").concat(vr));function du(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Zf(r,t,void 0,e),e.currentTarget=null}function Sd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;du(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;du(s,a,u),i=l}}}if(Ks)throw e=Mo,Ks=!1,Mo=null,e}function V(e,t){var n=t[Xo];n===void 0&&(n=t[Xo]=new Set);var r=e+"__bubble";n.has(r)||(jd(t,e,2,!1),n.add(r))}function so(e,t,n){var r=0;t&&(r|=4),jd(n,e,r,t)}var ys="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[ys]){e[ys]=!0,Rc.forEach(function(n){n!=="selectionchange"&&(tm.has(n)||so(n,!1,e),so(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ys]||(t[ys]=!0,so("selectionchange",!1,t))}}function jd(e,t,n,r){switch(ad(t)){case 1:var s=mp;break;case 4:s=gp;break;default:s=Ha}n=s.bind(null,t,n,e),s=void 0,!zo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function io(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=tn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Gc(function(){var u=i,d=Ba(n),h=[];e:{var g=kd.get(e);if(g!==void 0){var y=Ka,x=e;switch(e){case"keypress":if(Is(n)===0)break e;case"keydown":case"keyup":y=Rp;break;case"focusin":x="focus",y=Yi;break;case"focusout":x="blur",y=Yi;break;case"beforeblur":case"afterblur":y=Yi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=$p;break;case yd:case wd:case _d:y=kp;break;case xd:y=Ip;break;case"scroll":y=vp;break;case"wheel":y=Up;break;case"copy":case"cut":case"paste":y=jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=tu}var v=(t&4)!==0,_=!v&&e==="scroll",m=v?g!==null?g+"Capture":null:g;v=[];for(var p=u,f;p!==null;){f=p;var w=f.stateNode;if(f.tag===5&&w!==null&&(f=w,m!==null&&(w=$r(p,m),w!=null&&v.push(Mr(p,w,f)))),_)break;p=p.return}0<v.length&&(g=new y(g,x,null,n,d),h.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==Uo&&(x=n.relatedTarget||n.fromElement)&&(tn(x)||x[mt]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?tn(x):null,x!==null&&(_=fn(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(v=Zl,w="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=tu,w="onPointerLeave",m="onPointerEnter",p="pointer"),_=y==null?g:Tn(y),f=x==null?g:Tn(x),g=new v(w,p+"leave",y,n,d),g.target=_,g.relatedTarget=f,w=null,tn(d)===u&&(v=new v(m,p+"enter",x,n,d),v.target=f,v.relatedTarget=_,w=v),_=w,y&&x)t:{for(v=y,m=x,p=0,f=v;f;f=yn(f))p++;for(f=0,w=m;w;w=yn(w))f++;for(;0<p-f;)v=yn(v),p--;for(;0<f-p;)m=yn(m),f--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=yn(v),m=yn(m)}v=null}else v=null;y!==null&&hu(h,g,y,v,!1),x!==null&&_!==null&&hu(h,_,x,v,!0)}}e:{if(g=u?Tn(u):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var k=Vp;else if(su(g))if(fd)k=Qp;else{k=Gp;var j=Hp}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(k=Kp);if(k&&(k=k(e,u))){hd(h,k,n,d);break e}j&&j(e,g,u),e==="focusout"&&(j=g._wrapperState)&&j.controlled&&g.type==="number"&&Lo(g,"number",g.value)}switch(j=u?Tn(u):window,e){case"focusin":(su(j)||j.contentEditable==="true")&&(Nn=j,Vo=u,jr=null);break;case"focusout":jr=Vo=Nn=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,uu(h,n,d);break;case"selectionchange":if(Yp)break;case"keydown":case"keyup":uu(h,n,d)}var C;if(Ja)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Cn?cd(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(ud&&n.locale!=="ko"&&(Cn||O!=="onCompositionStart"?O==="onCompositionEnd"&&Cn&&(C=ld()):(Tt=d,Ga="value"in Tt?Tt.value:Tt.textContent,Cn=!0)),j=Zs(u,O),0<j.length&&(O=new eu(O,e,null,n,d),h.push({event:O,listeners:j}),C?O.data=C:(C=dd(n),C!==null&&(O.data=C)))),(C=zp?Mp(e,n):Bp(e,n))&&(u=Zs(u,"onBeforeInput"),0<u.length&&(d=new eu("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}Sd(h,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zs(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$r(e,n),i!=null&&r.unshift(Mr(e,i,s)),i=$r(e,t),i!=null&&r.push(Mr(e,i,s))),e=e.return}return r}function yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hu(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=$r(n,i),l!=null&&o.unshift(Mr(n,l,a))):s||(l=$r(n,i),l!=null&&o.push(Mr(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var nm=/\r\n?/g,rm=/\u0000|\uFFFD/g;function fu(e){return(typeof e=="string"?e:""+e).replace(nm,`
`).replace(rm,"")}function ws(e,t,n){if(t=fu(t),fu(e)!==t&&n)throw Error(E(425))}function ei(){}var Go=null,Ko=null;function Qo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jo=typeof setTimeout=="function"?setTimeout:void 0,sm=typeof clearTimeout=="function"?clearTimeout:void 0,pu=typeof Promise=="function"?Promise:void 0,im=typeof queueMicrotask=="function"?queueMicrotask:typeof pu<"u"?function(e){return pu.resolve(null).then(e).catch(om)}:Jo;function om(e){setTimeout(function(){throw e})}function oo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Dr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dr(t)}function At(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var er=Math.random().toString(36).slice(2),nt="__reactFiber$"+er,Br="__reactProps$"+er,mt="__reactContainer$"+er,Xo="__reactEvents$"+er,am="__reactListeners$"+er,lm="__reactHandles$"+er;function tn(e){var t=e[nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mt]||n[nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mu(e);e!==null;){if(n=e[nt])return n;e=mu(e)}return t}e=n,n=e.parentNode}return null}function ts(e){return e=e[nt]||e[mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ji(e){return e[Br]||null}var Yo=[],bn=-1;function Wt(e){return{current:e}}function H(e){0>bn||(e.current=Yo[bn],Yo[bn]=null,bn--)}function W(e,t){bn++,Yo[bn]=e.current,e.current=t}var Bt={},me=Wt(Bt),Ee=Wt(!1),an=Bt;function Vn(e,t){var n=e.type.contextTypes;if(!n)return Bt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ce(e){return e=e.childContextTypes,e!=null}function ti(){H(Ee),H(me)}function gu(e,t,n){if(me.current!==Bt)throw Error(E(168));W(me,t),W(Ee,n)}function Ed(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(E(108,Hf(e)||"Unknown",s));return X({},n,r)}function ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bt,an=me.current,W(me,e),W(Ee,Ee.current),!0}function vu(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=Ed(e,t,an),r.__reactInternalMemoizedMergedChildContext=e,H(Ee),H(me),W(me,e)):H(Ee),W(Ee,n)}var ct=null,Ei=!1,ao=!1;function Cd(e){ct===null?ct=[e]:ct.push(e)}function um(e){Ei=!0,Cd(e)}function Vt(){if(!ao&&ct!==null){ao=!0;var e=0,t=z;try{var n=ct;for(z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ct=null,Ei=!1}catch(s){throw ct!==null&&(ct=ct.slice(e+1)),Xc(qa,Vt),s}finally{z=t,ao=!1}}return null}var Rn=[],On=0,ri=null,si=0,Ie=[],De=0,ln=null,dt=1,ht="";function Xt(e,t){Rn[On++]=si,Rn[On++]=ri,ri=e,si=t}function Nd(e,t,n){Ie[De++]=dt,Ie[De++]=ht,Ie[De++]=ln,ln=e;var r=dt;e=ht;var s=32-Qe(r)-1;r&=~(1<<s),n+=1;var i=32-Qe(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,dt=1<<32-Qe(t)+s|n<<s|r,ht=i+e}else dt=1<<i|n<<s|r,ht=e}function Ya(e){e.return!==null&&(Xt(e,1),Nd(e,1,0))}function Za(e){for(;e===ri;)ri=Rn[--On],Rn[On]=null,si=Rn[--On],Rn[On]=null;for(;e===ln;)ln=Ie[--De],Ie[De]=null,ht=Ie[--De],Ie[De]=null,dt=Ie[--De],Ie[De]=null}var Re=null,be=null,K=!1,Ke=null;function Pd(e,t){var n=Ue(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Re=e,be=At(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Re=e,be=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ln!==null?{id:dt,overflow:ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ue(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Re=e,be=null,!0):!1;default:return!1}}function Zo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ea(e){if(K){var t=be;if(t){var n=t;if(!yu(e,t)){if(Zo(e))throw Error(E(418));t=At(n.nextSibling);var r=Re;t&&yu(e,t)?Pd(r,n):(e.flags=e.flags&-4097|2,K=!1,Re=e)}}else{if(Zo(e))throw Error(E(418));e.flags=e.flags&-4097|2,K=!1,Re=e}}}function wu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Re=e}function _s(e){if(e!==Re)return!1;if(!K)return wu(e),K=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qo(e.type,e.memoizedProps)),t&&(t=be)){if(Zo(e))throw Td(),Error(E(418));for(;t;)Pd(e,t),t=At(t.nextSibling)}if(wu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){be=At(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}be=null}}else be=Re?At(e.stateNode.nextSibling):null;return!0}function Td(){for(var e=be;e;)e=At(e.nextSibling)}function Hn(){be=Re=null,K=!1}function el(e){Ke===null?Ke=[e]:Ke.push(e)}var cm=yt.ReactCurrentBatchConfig;function cr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _u(e){var t=e._init;return t(e._payload)}function bd(e){function t(m,p){if(e){var f=m.deletions;f===null?(m.deletions=[p],m.flags|=16):f.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Ft(m,p),m.index=0,m.sibling=null,m}function i(m,p,f){return m.index=f,e?(f=m.alternate,f!==null?(f=f.index,f<p?(m.flags|=2,p):f):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,f,w){return p===null||p.tag!==6?(p=mo(f,m.mode,w),p.return=m,p):(p=s(p,f),p.return=m,p)}function l(m,p,f,w){var k=f.type;return k===En?d(m,p,f.props.children,w,f.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===St&&_u(k)===p.type)?(w=s(p,f.props),w.ref=cr(m,p,f),w.return=m,w):(w=qs(f.type,f.key,f.props,null,m.mode,w),w.ref=cr(m,p,f),w.return=m,w)}function u(m,p,f,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==f.containerInfo||p.stateNode.implementation!==f.implementation?(p=go(f,m.mode,w),p.return=m,p):(p=s(p,f.children||[]),p.return=m,p)}function d(m,p,f,w,k){return p===null||p.tag!==7?(p=on(f,m.mode,w,k),p.return=m,p):(p=s(p,f),p.return=m,p)}function h(m,p,f){if(typeof p=="string"&&p!==""||typeof p=="number")return p=mo(""+p,m.mode,f),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case cs:return f=qs(p.type,p.key,p.props,null,m.mode,f),f.ref=cr(m,null,p),f.return=m,f;case jn:return p=go(p,m.mode,f),p.return=m,p;case St:var w=p._init;return h(m,w(p._payload),f)}if(mr(p)||ir(p))return p=on(p,m.mode,f,null),p.return=m,p;xs(m,p)}return null}function g(m,p,f,w){var k=p!==null?p.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return k!==null?null:a(m,p,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case cs:return f.key===k?l(m,p,f,w):null;case jn:return f.key===k?u(m,p,f,w):null;case St:return k=f._init,g(m,p,k(f._payload),w)}if(mr(f)||ir(f))return k!==null?null:d(m,p,f,w,null);xs(m,f)}return null}function y(m,p,f,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(f)||null,a(p,m,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cs:return m=m.get(w.key===null?f:w.key)||null,l(p,m,w,k);case jn:return m=m.get(w.key===null?f:w.key)||null,u(p,m,w,k);case St:var j=w._init;return y(m,p,f,j(w._payload),k)}if(mr(w)||ir(w))return m=m.get(f)||null,d(p,m,w,k,null);xs(p,w)}return null}function x(m,p,f,w){for(var k=null,j=null,C=p,O=p=0,U=null;C!==null&&O<f.length;O++){C.index>O?(U=C,C=null):U=C.sibling;var L=g(m,C,f[O],w);if(L===null){C===null&&(C=U);break}e&&C&&L.alternate===null&&t(m,C),p=i(L,p,O),j===null?k=L:j.sibling=L,j=L,C=U}if(O===f.length)return n(m,C),K&&Xt(m,O),k;if(C===null){for(;O<f.length;O++)C=h(m,f[O],w),C!==null&&(p=i(C,p,O),j===null?k=C:j.sibling=C,j=C);return K&&Xt(m,O),k}for(C=r(m,C);O<f.length;O++)U=y(C,m,O,f[O],w),U!==null&&(e&&U.alternate!==null&&C.delete(U.key===null?O:U.key),p=i(U,p,O),j===null?k=U:j.sibling=U,j=U);return e&&C.forEach(function(G){return t(m,G)}),K&&Xt(m,O),k}function v(m,p,f,w){var k=ir(f);if(typeof k!="function")throw Error(E(150));if(f=k.call(f),f==null)throw Error(E(151));for(var j=k=null,C=p,O=p=0,U=null,L=f.next();C!==null&&!L.done;O++,L=f.next()){C.index>O?(U=C,C=null):U=C.sibling;var G=g(m,C,L.value,w);if(G===null){C===null&&(C=U);break}e&&C&&G.alternate===null&&t(m,C),p=i(G,p,O),j===null?k=G:j.sibling=G,j=G,C=U}if(L.done)return n(m,C),K&&Xt(m,O),k;if(C===null){for(;!L.done;O++,L=f.next())L=h(m,L.value,w),L!==null&&(p=i(L,p,O),j===null?k=L:j.sibling=L,j=L);return K&&Xt(m,O),k}for(C=r(m,C);!L.done;O++,L=f.next())L=y(C,m,O,L.value,w),L!==null&&(e&&L.alternate!==null&&C.delete(L.key===null?O:L.key),p=i(L,p,O),j===null?k=L:j.sibling=L,j=L);return e&&C.forEach(function(Ye){return t(m,Ye)}),K&&Xt(m,O),k}function _(m,p,f,w){if(typeof f=="object"&&f!==null&&f.type===En&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case cs:e:{for(var k=f.key,j=p;j!==null;){if(j.key===k){if(k=f.type,k===En){if(j.tag===7){n(m,j.sibling),p=s(j,f.props.children),p.return=m,m=p;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===St&&_u(k)===j.type){n(m,j.sibling),p=s(j,f.props),p.ref=cr(m,j,f),p.return=m,m=p;break e}n(m,j);break}else t(m,j);j=j.sibling}f.type===En?(p=on(f.props.children,m.mode,w,f.key),p.return=m,m=p):(w=qs(f.type,f.key,f.props,null,m.mode,w),w.ref=cr(m,p,f),w.return=m,m=w)}return o(m);case jn:e:{for(j=f.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){n(m,p.sibling),p=s(p,f.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=go(f,m.mode,w),p.return=m,m=p}return o(m);case St:return j=f._init,_(m,p,j(f._payload),w)}if(mr(f))return x(m,p,f,w);if(ir(f))return v(m,p,f,w);xs(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,f),p.return=m,m=p):(n(m,p),p=mo(f,m.mode,w),p.return=m,m=p),o(m)):n(m,p)}return _}var Gn=bd(!0),Rd=bd(!1),ii=Wt(null),oi=null,Ln=null,tl=null;function nl(){tl=Ln=oi=null}function rl(e){var t=ii.current;H(ii),e._currentValue=t}function ta(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zn(e,t){oi=e,tl=Ln=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(je=!0),e.firstContext=null)}function Me(e){var t=e._currentValue;if(tl!==e)if(e={context:e,memoizedValue:t,next:null},Ln===null){if(oi===null)throw Error(E(308));Ln=e,oi.dependencies={lanes:0,firstContext:e}}else Ln=Ln.next=e;return t}var nn=null;function sl(e){nn===null?nn=[e]:nn.push(e)}function Od(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,sl(t)):(n.next=s.next,s.next=n),t.interleaved=n,gt(e,r)}function gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jt=!1;function il(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ld(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function It(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,gt(e,n)}return s=r.interleaved,s===null?(t.next=t,sl(r)):(t.next=s.next,s.next=t),r.interleaved=t,gt(e,n)}function Ds(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wa(e,n)}}function xu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ai(e,t,n,r){var s=e.updateQueue;jt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var g=a.lane,y=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,v=a;switch(g=t,y=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(y,h,g);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,g=typeof x=="function"?x.call(y,h,g):x,g==null)break e;h=X({},h,g);break e;case 2:jt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else y={eventTime:y,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=h):d=d.next=y,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);cn|=o,e.lanes=o,e.memoizedState=h}}function ku(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var ns={},st=Wt(ns),qr=Wt(ns),Wr=Wt(ns);function rn(e){if(e===ns)throw Error(E(174));return e}function ol(e,t){switch(W(Wr,t),W(qr,e),W(st,ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ao(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ao(t,e)}H(st),W(st,t)}function Kn(){H(st),H(qr),H(Wr)}function $d(e){rn(Wr.current);var t=rn(st.current),n=Ao(t,e.type);t!==n&&(W(qr,e),W(st,n))}function al(e){qr.current===e&&(H(st),H(qr))}var Q=Wt(0);function li(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function ll(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var Us=yt.ReactCurrentDispatcher,uo=yt.ReactCurrentBatchConfig,un=0,J=null,se=null,ae=null,ui=!1,Er=!1,Vr=0,dm=0;function he(){throw Error(E(321))}function ul(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xe(e[n],t[n]))return!1;return!0}function cl(e,t,n,r,s,i){if(un=i,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Us.current=e===null||e.memoizedState===null?mm:gm,e=n(r,s),Er){i=0;do{if(Er=!1,Vr=0,25<=i)throw Error(E(301));i+=1,ae=se=null,t.updateQueue=null,Us.current=vm,e=n(r,s)}while(Er)}if(Us.current=ci,t=se!==null&&se.next!==null,un=0,ae=se=J=null,ui=!1,t)throw Error(E(300));return e}function dl(){var e=Vr!==0;return Vr=0,e}function tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?J.memoizedState=ae=e:ae=ae.next=e,ae}function Be(){if(se===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=ae===null?J.memoizedState:ae.next;if(t!==null)ae=t,se=e;else{if(e===null)throw Error(E(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ae===null?J.memoizedState=ae=e:ae=ae.next=e}return ae}function Hr(e,t){return typeof t=="function"?t(e):t}function co(e){var t=Be(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=se,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((un&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,J.lanes|=d,cn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Xe(r,t.memoizedState)||(je=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,J.lanes|=i,cn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ho(e){var t=Be(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Xe(i,t.memoizedState)||(je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ad(){}function Id(e,t){var n=J,r=Be(),s=t(),i=!Xe(r.memoizedState,s);if(i&&(r.memoizedState=s,je=!0),r=r.queue,hl(Fd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ae!==null&&ae.memoizedState.tag&1){if(n.flags|=2048,Gr(9,Ud.bind(null,n,r,s,t),void 0,null),le===null)throw Error(E(349));un&30||Dd(n,t,s)}return s}function Dd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=J.updateQueue,t===null?(t={lastEffect:null,stores:null},J.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ud(e,t,n,r){t.value=n,t.getSnapshot=r,zd(t)&&Md(e)}function Fd(e,t,n){return n(function(){zd(t)&&Md(e)})}function zd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xe(e,n)}catch{return!0}}function Md(e){var t=gt(e,1);t!==null&&Je(t,e,1,-1)}function Su(e){var t=tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:e},t.queue=e,e=e.dispatch=pm.bind(null,J,e),[t.memoizedState,e]}function Gr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=J.updateQueue,t===null?(t={lastEffect:null,stores:null},J.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Bd(){return Be().memoizedState}function Fs(e,t,n,r){var s=tt();J.flags|=e,s.memoizedState=Gr(1|t,n,void 0,r===void 0?null:r)}function Ci(e,t,n,r){var s=Be();r=r===void 0?null:r;var i=void 0;if(se!==null){var o=se.memoizedState;if(i=o.destroy,r!==null&&ul(r,o.deps)){s.memoizedState=Gr(t,n,i,r);return}}J.flags|=e,s.memoizedState=Gr(1|t,n,i,r)}function ju(e,t){return Fs(8390656,8,e,t)}function hl(e,t){return Ci(2048,8,e,t)}function qd(e,t){return Ci(4,2,e,t)}function Wd(e,t){return Ci(4,4,e,t)}function Vd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hd(e,t,n){return n=n!=null?n.concat([e]):null,Ci(4,4,Vd.bind(null,t,e),n)}function fl(){}function Gd(e,t){var n=Be();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ul(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Kd(e,t){var n=Be();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ul(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qd(e,t,n){return un&21?(Xe(n,t)||(n=ed(),J.lanes|=n,cn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,je=!0),e.memoizedState=n)}function hm(e,t){var n=z;z=n!==0&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{z=n,uo.transition=r}}function Jd(){return Be().memoizedState}function fm(e,t,n){var r=Ut(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xd(e))Yd(t,n);else if(n=Od(e,t,n,r),n!==null){var s=ye();Je(n,e,r,s),Zd(n,t,r)}}function pm(e,t,n){var r=Ut(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xd(e))Yd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Xe(a,o)){var l=t.interleaved;l===null?(s.next=s,sl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Od(e,t,s,r),n!==null&&(s=ye(),Je(n,e,r,s),Zd(n,t,r))}}function Xd(e){var t=e.alternate;return e===J||t!==null&&t===J}function Yd(e,t){Er=ui=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wa(e,n)}}var ci={readContext:Me,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},mm={readContext:Me,useCallback:function(e,t){return tt().memoizedState=[e,t===void 0?null:t],e},useContext:Me,useEffect:ju,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fs(4194308,4,Vd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fs(4,2,e,t)},useMemo:function(e,t){var n=tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fm.bind(null,J,e),[r.memoizedState,e]},useRef:function(e){var t=tt();return e={current:e},t.memoizedState=e},useState:Su,useDebugValue:fl,useDeferredValue:function(e){return tt().memoizedState=e},useTransition:function(){var e=Su(!1),t=e[0];return e=hm.bind(null,e[1]),tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=J,s=tt();if(K){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),le===null)throw Error(E(349));un&30||Dd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ju(Fd.bind(null,r,i,e),[e]),r.flags|=2048,Gr(9,Ud.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=tt(),t=le.identifierPrefix;if(K){var n=ht,r=dt;n=(r&~(1<<32-Qe(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gm={readContext:Me,useCallback:Gd,useContext:Me,useEffect:hl,useImperativeHandle:Hd,useInsertionEffect:qd,useLayoutEffect:Wd,useMemo:Kd,useReducer:co,useRef:Bd,useState:function(){return co(Hr)},useDebugValue:fl,useDeferredValue:function(e){var t=Be();return Qd(t,se.memoizedState,e)},useTransition:function(){var e=co(Hr)[0],t=Be().memoizedState;return[e,t]},useMutableSource:Ad,useSyncExternalStore:Id,useId:Jd,unstable_isNewReconciler:!1},vm={readContext:Me,useCallback:Gd,useContext:Me,useEffect:hl,useImperativeHandle:Hd,useInsertionEffect:qd,useLayoutEffect:Wd,useMemo:Kd,useReducer:ho,useRef:Bd,useState:function(){return ho(Hr)},useDebugValue:fl,useDeferredValue:function(e){var t=Be();return se===null?t.memoizedState=e:Qd(t,se.memoizedState,e)},useTransition:function(){var e=ho(Hr)[0],t=Be().memoizedState;return[e,t]},useMutableSource:Ad,useSyncExternalStore:Id,useId:Jd,unstable_isNewReconciler:!1};function Ve(e,t){if(e&&e.defaultProps){t=X({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function na(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:X({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ni={isMounted:function(e){return(e=e._reactInternals)?fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ye(),s=Ut(e),i=ft(r,s);i.payload=t,n!=null&&(i.callback=n),t=It(e,i,s),t!==null&&(Je(t,e,s,r),Ds(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ye(),s=Ut(e),i=ft(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=It(e,i,s),t!==null&&(Je(t,e,s,r),Ds(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ye(),r=Ut(e),s=ft(n,r);s.tag=2,t!=null&&(s.callback=t),t=It(e,s,r),t!==null&&(Je(t,e,r,n),Ds(t,e,r))}};function Eu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Fr(n,r)||!Fr(s,i):!0}function eh(e,t,n){var r=!1,s=Bt,i=t.contextType;return typeof i=="object"&&i!==null?i=Me(i):(s=Ce(t)?an:me.current,r=t.contextTypes,i=(r=r!=null)?Vn(e,s):Bt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ni,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Cu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ni.enqueueReplaceState(t,t.state,null)}function ra(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},il(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Me(i):(i=Ce(t)?an:me.current,s.context=Vn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(na(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ni.enqueueReplaceState(s,s.state,null),ai(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qn(e,t){try{var n="",r=t;do n+=Vf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function fo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ym=typeof WeakMap=="function"?WeakMap:Map;function th(e,t,n){n=ft(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hi||(hi=!0,pa=r),sa(e,t)},n}function nh(e,t,n){n=ft(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){sa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){sa(e,t),typeof r!="function"&&(Dt===null?Dt=new Set([this]):Dt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Nu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ym;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Om.bind(null,e,t,n),t.then(e,e))}function Pu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ft(-1,1),t.tag=2,It(n,t,1))),n.lanes|=1),e)}var wm=yt.ReactCurrentOwner,je=!1;function ve(e,t,n,r){t.child=e===null?Rd(t,null,n,r):Gn(t,e.child,n,r)}function bu(e,t,n,r,s){n=n.render;var i=t.ref;return zn(t,s),r=cl(e,t,n,r,i,s),n=dl(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vt(e,t,s)):(K&&n&&Ya(t),t.flags|=1,ve(e,t,r,s),t.child)}function Ru(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!xl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,rh(e,t,i,r,s)):(e=qs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fr,n(o,r)&&e.ref===t.ref)return vt(e,t,s)}return t.flags|=1,e=Ft(i,r),e.ref=t.ref,e.return=t,t.child=e}function rh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Fr(i,r)&&e.ref===t.ref)if(je=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(je=!0);else return t.lanes=e.lanes,vt(e,t,s)}return ia(e,t,n,r,s)}function sh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(An,Te),Te|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,W(An,Te),Te|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,W(An,Te),Te|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,W(An,Te),Te|=r;return ve(e,t,s,n),t.child}function ih(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ia(e,t,n,r,s){var i=Ce(n)?an:me.current;return i=Vn(t,i),zn(t,s),n=cl(e,t,n,r,i,s),r=dl(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vt(e,t,s)):(K&&r&&Ya(t),t.flags|=1,ve(e,t,n,s),t.child)}function Ou(e,t,n,r,s){if(Ce(n)){var i=!0;ni(t)}else i=!1;if(zn(t,s),t.stateNode===null)zs(e,t),eh(t,n,r),ra(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Me(u):(u=Ce(n)?an:me.current,u=Vn(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Cu(t,o,r,u),jt=!1;var g=t.memoizedState;o.state=g,ai(t,r,o,s),l=t.memoizedState,a!==r||g!==l||Ee.current||jt?(typeof d=="function"&&(na(t,n,d,r),l=t.memoizedState),(a=jt||Eu(t,n,a,r,g,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ld(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ve(t.type,a),o.props=u,h=t.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Me(l):(l=Ce(n)?an:me.current,l=Vn(t,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==l)&&Cu(t,o,r,l),jt=!1,g=t.memoizedState,o.state=g,ai(t,r,o,s);var x=t.memoizedState;a!==h||g!==x||Ee.current||jt?(typeof y=="function"&&(na(t,n,y,r),x=t.memoizedState),(u=jt||Eu(t,n,u,r,g,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return oa(e,t,n,r,i,s)}function oa(e,t,n,r,s,i){ih(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&vu(t,n,!1),vt(e,t,i);r=t.stateNode,wm.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Gn(t,e.child,null,i),t.child=Gn(t,null,a,i)):ve(e,t,a,i),t.memoizedState=r.state,s&&vu(t,n,!0),t.child}function oh(e){var t=e.stateNode;t.pendingContext?gu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gu(e,t.context,!1),ol(e,t.containerInfo)}function Lu(e,t,n,r,s){return Hn(),el(s),t.flags|=256,ve(e,t,n,r),t.child}var aa={dehydrated:null,treeContext:null,retryLane:0};function la(e){return{baseLanes:e,cachePool:null,transitions:null}}function ah(e,t,n){var r=t.pendingProps,s=Q.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),W(Q,s&1),e===null)return ea(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bi(o,r,0,null),e=on(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=la(n),t.memoizedState=aa,e):pl(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _m(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ft(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ft(a,i):(i=on(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?la(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=aa,r}return i=e.child,e=i.sibling,r=Ft(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function pl(e,t){return t=bi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ks(e,t,n,r){return r!==null&&el(r),Gn(t,e.child,null,n),e=pl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _m(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=fo(Error(E(422))),ks(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=bi({mode:"visible",children:r.children},s,0,null),i=on(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Gn(t,e.child,null,o),t.child.memoizedState=la(o),t.memoizedState=aa,i);if(!(t.mode&1))return ks(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(E(419)),r=fo(i,r,void 0),ks(e,t,o,r)}if(a=(o&e.childLanes)!==0,je||a){if(r=le,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gt(e,s),Je(r,e,s,-1))}return _l(),r=fo(Error(E(421))),ks(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Lm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,be=At(s.nextSibling),Re=t,K=!0,Ke=null,e!==null&&(Ie[De++]=dt,Ie[De++]=ht,Ie[De++]=ln,dt=e.id,ht=e.overflow,ln=t),t=pl(t,r.children),t.flags|=4096,t)}function $u(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ta(e.return,t,n)}function po(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function lh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ve(e,t,r.children,n),r=Q.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$u(e,n,t);else if(e.tag===19)$u(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(W(Q,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&li(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),po(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&li(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}po(t,!0,n,null,i);break;case"together":po(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xm(e,t,n){switch(t.tag){case 3:oh(t),Hn();break;case 5:$d(t);break;case 1:Ce(t.type)&&ni(t);break;case 4:ol(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;W(ii,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(W(Q,Q.current&1),t.flags|=128,null):n&t.child.childLanes?ah(e,t,n):(W(Q,Q.current&1),e=vt(e,t,n),e!==null?e.sibling:null);W(Q,Q.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),W(Q,Q.current),r)break;return null;case 22:case 23:return t.lanes=0,sh(e,t,n)}return vt(e,t,n)}var uh,ua,ch,dh;uh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ua=function(){};ch=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,rn(st.current);var i=null;switch(n){case"input":s=Ro(e,s),r=Ro(e,r),i=[];break;case"select":s=X({},s,{value:void 0}),r=X({},r,{value:void 0}),i=[];break;case"textarea":s=$o(e,s),r=$o(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ei)}Io(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Or.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Or.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&V("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};dh=function(e,t,n,r){n!==r&&(t.flags|=4)};function dr(e,t){if(!K)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function km(e,t,n){var r=t.pendingProps;switch(Za(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return Ce(t.type)&&ti(),fe(t),null;case 3:return r=t.stateNode,Kn(),H(Ee),H(me),ll(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ke!==null&&(va(Ke),Ke=null))),ua(e,t),fe(t),null;case 5:al(t);var s=rn(Wr.current);if(n=t.type,e!==null&&t.stateNode!=null)ch(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return fe(t),null}if(e=rn(st.current),_s(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[nt]=t,r[Br]=i,e=(t.mode&1)!==0,n){case"dialog":V("cancel",r),V("close",r);break;case"iframe":case"object":case"embed":V("load",r);break;case"video":case"audio":for(s=0;s<vr.length;s++)V(vr[s],r);break;case"source":V("error",r);break;case"img":case"image":case"link":V("error",r),V("load",r);break;case"details":V("toggle",r);break;case"input":ql(r,i),V("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},V("invalid",r);break;case"textarea":Vl(r,i),V("invalid",r)}Io(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ws(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ws(r.textContent,a,e),s=["children",""+a]):Or.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&V("scroll",r)}switch(n){case"input":ds(r),Wl(r,i,!0);break;case"textarea":ds(r),Hl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ei)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[nt]=t,e[Br]=r,uh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Do(n,r),n){case"dialog":V("cancel",e),V("close",e),s=r;break;case"iframe":case"object":case"embed":V("load",e),s=r;break;case"video":case"audio":for(s=0;s<vr.length;s++)V(vr[s],e);s=r;break;case"source":V("error",e),s=r;break;case"img":case"image":case"link":V("error",e),V("load",e),s=r;break;case"details":V("toggle",e),s=r;break;case"input":ql(e,r),s=Ro(e,r),V("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=X({},r,{value:void 0}),V("invalid",e);break;case"textarea":Vl(e,r),s=$o(e,r),V("invalid",e);break;default:s=r}Io(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Bc(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zc(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lr(e,l):typeof l=="number"&&Lr(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Or.hasOwnProperty(i)?l!=null&&i==="onScroll"&&V("scroll",e):l!=null&&Ua(e,i,l,o))}switch(n){case"input":ds(e),Wl(e,r,!1);break;case"textarea":ds(e),Hl(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?In(e,!!r.multiple,i,!1):r.defaultValue!=null&&In(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fe(t),null;case 6:if(e&&t.stateNode!=null)dh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=rn(Wr.current),rn(st.current),_s(t)){if(r=t.stateNode,n=t.memoizedProps,r[nt]=t,(i=r.nodeValue!==n)&&(e=Re,e!==null))switch(e.tag){case 3:ws(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ws(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nt]=t,t.stateNode=r}return fe(t),null;case 13:if(H(Q),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(K&&be!==null&&t.mode&1&&!(t.flags&128))Td(),Hn(),t.flags|=98560,i=!1;else if(i=_s(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[nt]=t}else Hn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),i=!1}else Ke!==null&&(va(Ke),Ke=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Q.current&1?ie===0&&(ie=3):_l())),t.updateQueue!==null&&(t.flags|=4),fe(t),null);case 4:return Kn(),ua(e,t),e===null&&zr(t.stateNode.containerInfo),fe(t),null;case 10:return rl(t.type._context),fe(t),null;case 17:return Ce(t.type)&&ti(),fe(t),null;case 19:if(H(Q),i=t.memoizedState,i===null)return fe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)dr(i,!1);else{if(ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=li(e),o!==null){for(t.flags|=128,dr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return W(Q,Q.current&1|2),t.child}e=e.sibling}i.tail!==null&&ee()>Jn&&(t.flags|=128,r=!0,dr(i,!1),t.lanes=4194304)}else{if(!r)if(e=li(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),dr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!K)return fe(t),null}else 2*ee()-i.renderingStartTime>Jn&&n!==1073741824&&(t.flags|=128,r=!0,dr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ee(),t.sibling=null,n=Q.current,W(Q,r?n&1|2:n&1),t):(fe(t),null);case 22:case 23:return wl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Te&1073741824&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Sm(e,t){switch(Za(t),t.tag){case 1:return Ce(t.type)&&ti(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kn(),H(Ee),H(me),ll(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return al(t),null;case 13:if(H(Q),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(Q),null;case 4:return Kn(),null;case 10:return rl(t.type._context),null;case 22:case 23:return wl(),null;case 24:return null;default:return null}}var Ss=!1,pe=!1,jm=typeof WeakSet=="function"?WeakSet:Set,b=null;function $n(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Z(e,t,r)}else n.current=null}function ca(e,t,n){try{n()}catch(r){Z(e,t,r)}}var Au=!1;function Em(e,t){if(Go=Xs,e=gd(),Xa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,g=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)g=h,h=y;for(;;){if(h===e)break t;if(g===n&&++u===s&&(a=o),g===i&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ko={focusedElem:e,selectionRange:n},Xs=!1,b=t;b!==null;)if(t=b,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,b=e;else for(;b!==null;){t=b;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,_=x.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ve(t.type,v),_);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){Z(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,b=e;break}b=t.return}return x=Au,Au=!1,x}function Cr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ca(t,n,i)}s=s.next}while(s!==r)}}function Pi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function da(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hh(e){var t=e.alternate;t!==null&&(e.alternate=null,hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nt],delete t[Br],delete t[Xo],delete t[am],delete t[lm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fh(e){return e.tag===5||e.tag===3||e.tag===4}function Iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ha(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ei));else if(r!==4&&(e=e.child,e!==null))for(ha(e,t,n),e=e.sibling;e!==null;)ha(e,t,n),e=e.sibling}function fa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fa(e,t,n),e=e.sibling;e!==null;)fa(e,t,n),e=e.sibling}var ue=null,He=!1;function xt(e,t,n){for(n=n.child;n!==null;)ph(e,t,n),n=n.sibling}function ph(e,t,n){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(_i,n)}catch{}switch(n.tag){case 5:pe||$n(n,t);case 6:var r=ue,s=He;ue=null,xt(e,t,n),ue=r,He=s,ue!==null&&(He?(e=ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ue.removeChild(n.stateNode));break;case 18:ue!==null&&(He?(e=ue,n=n.stateNode,e.nodeType===8?oo(e.parentNode,n):e.nodeType===1&&oo(e,n),Dr(e)):oo(ue,n.stateNode));break;case 4:r=ue,s=He,ue=n.stateNode.containerInfo,He=!0,xt(e,t,n),ue=r,He=s;break;case 0:case 11:case 14:case 15:if(!pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ca(n,t,o),s=s.next}while(s!==r)}xt(e,t,n);break;case 1:if(!pe&&($n(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Z(n,t,a)}xt(e,t,n);break;case 21:xt(e,t,n);break;case 22:n.mode&1?(pe=(r=pe)||n.memoizedState!==null,xt(e,t,n),pe=r):xt(e,t,n);break;default:xt(e,t,n)}}function Du(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jm),t.forEach(function(r){var s=$m.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ue=a.stateNode,He=!1;break e;case 3:ue=a.stateNode.containerInfo,He=!0;break e;case 4:ue=a.stateNode.containerInfo,He=!0;break e}a=a.return}if(ue===null)throw Error(E(160));ph(i,o,s),ue=null,He=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Z(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mh(t,e),t=t.sibling}function mh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qe(t,e),et(e),r&4){try{Cr(3,e,e.return),Pi(3,e)}catch(v){Z(e,e.return,v)}try{Cr(5,e,e.return)}catch(v){Z(e,e.return,v)}}break;case 1:qe(t,e),et(e),r&512&&n!==null&&$n(n,n.return);break;case 5:if(qe(t,e),et(e),r&512&&n!==null&&$n(n,n.return),e.flags&32){var s=e.stateNode;try{Lr(s,"")}catch(v){Z(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Dc(s,i),Do(a,o);var u=Do(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Bc(s,h):d==="dangerouslySetInnerHTML"?zc(s,h):d==="children"?Lr(s,h):Ua(s,d,h,u)}switch(a){case"input":Oo(s,i);break;case"textarea":Uc(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?In(s,!!i.multiple,y,!1):g!==!!i.multiple&&(i.defaultValue!=null?In(s,!!i.multiple,i.defaultValue,!0):In(s,!!i.multiple,i.multiple?[]:"",!1))}s[Br]=i}catch(v){Z(e,e.return,v)}}break;case 6:if(qe(t,e),et(e),r&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){Z(e,e.return,v)}}break;case 3:if(qe(t,e),et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dr(t.containerInfo)}catch(v){Z(e,e.return,v)}break;case 4:qe(t,e),et(e);break;case 13:qe(t,e),et(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vl=ee())),r&4&&Du(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(pe=(u=pe)||d,qe(t,e),pe=u):qe(t,e),et(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(b=e,d=e.child;d!==null;){for(h=b=d;b!==null;){switch(g=b,y=g.child,g.tag){case 0:case 11:case 14:case 15:Cr(4,g,g.return);break;case 1:$n(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){Z(r,n,v)}}break;case 5:$n(g,g.return);break;case 22:if(g.memoizedState!==null){Fu(h);continue}}y!==null?(y.return=g,b=y):Fu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Mc("display",o))}catch(v){Z(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Z(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:qe(t,e),et(e),r&4&&Du(e);break;case 21:break;default:qe(t,e),et(e)}}function et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fh(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Lr(s,""),r.flags&=-33);var i=Iu(e);fa(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Iu(e);ha(e,a,o);break;default:throw Error(E(161))}}catch(l){Z(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cm(e,t,n){b=e,gh(e)}function gh(e,t,n){for(var r=(e.mode&1)!==0;b!==null;){var s=b,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ss;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||pe;a=Ss;var u=pe;if(Ss=o,(pe=l)&&!u)for(b=s;b!==null;)o=b,l=o.child,o.tag===22&&o.memoizedState!==null?zu(s):l!==null?(l.return=o,b=l):zu(s);for(;i!==null;)b=i,gh(i),i=i.sibling;b=s,Ss=a,pe=u}Uu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,b=i):Uu(e)}}function Uu(e){for(;b!==null;){var t=b;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pe||Pi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ve(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ku(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ku(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Dr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}pe||t.flags&512&&da(t)}catch(g){Z(t,t.return,g)}}if(t===e){b=null;break}if(n=t.sibling,n!==null){n.return=t.return,b=n;break}b=t.return}}function Fu(e){for(;b!==null;){var t=b;if(t===e){b=null;break}var n=t.sibling;if(n!==null){n.return=t.return,b=n;break}b=t.return}}function zu(e){for(;b!==null;){var t=b;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pi(4,t)}catch(l){Z(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Z(t,s,l)}}var i=t.return;try{da(t)}catch(l){Z(t,i,l)}break;case 5:var o=t.return;try{da(t)}catch(l){Z(t,o,l)}}}catch(l){Z(t,t.return,l)}if(t===e){b=null;break}var a=t.sibling;if(a!==null){a.return=t.return,b=a;break}b=t.return}}var Nm=Math.ceil,di=yt.ReactCurrentDispatcher,ml=yt.ReactCurrentOwner,Fe=yt.ReactCurrentBatchConfig,F=0,le=null,ne=null,ce=0,Te=0,An=Wt(0),ie=0,Kr=null,cn=0,Ti=0,gl=0,Nr=null,ke=null,vl=0,Jn=1/0,lt=null,hi=!1,pa=null,Dt=null,js=!1,bt=null,fi=0,Pr=0,ma=null,Ms=-1,Bs=0;function ye(){return F&6?ee():Ms!==-1?Ms:Ms=ee()}function Ut(e){return e.mode&1?F&2&&ce!==0?ce&-ce:cm.transition!==null?(Bs===0&&(Bs=ed()),Bs):(e=z,e!==0||(e=window.event,e=e===void 0?16:ad(e.type)),e):1}function Je(e,t,n,r){if(50<Pr)throw Pr=0,ma=null,Error(E(185));Zr(e,n,r),(!(F&2)||e!==le)&&(e===le&&(!(F&2)&&(Ti|=n),ie===4&&Nt(e,ce)),Ne(e,r),n===1&&F===0&&!(t.mode&1)&&(Jn=ee()+500,Ei&&Vt()))}function Ne(e,t){var n=e.callbackNode;cp(e,t);var r=Js(e,e===le?ce:0);if(r===0)n!==null&&Ql(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ql(n),t===1)e.tag===0?um(Mu.bind(null,e)):Cd(Mu.bind(null,e)),im(function(){!(F&6)&&Vt()}),n=null;else{switch(td(r)){case 1:n=qa;break;case 4:n=Yc;break;case 16:n=Qs;break;case 536870912:n=Zc;break;default:n=Qs}n=jh(n,vh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vh(e,t){if(Ms=-1,Bs=0,F&6)throw Error(E(327));var n=e.callbackNode;if(Mn()&&e.callbackNode!==n)return null;var r=Js(e,e===le?ce:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=pi(e,r);else{t=r;var s=F;F|=2;var i=wh();(le!==e||ce!==t)&&(lt=null,Jn=ee()+500,sn(e,t));do try{bm();break}catch(a){yh(e,a)}while(!0);nl(),di.current=i,F=s,ne!==null?t=0:(le=null,ce=0,t=ie)}if(t!==0){if(t===2&&(s=Bo(e),s!==0&&(r=s,t=ga(e,s))),t===1)throw n=Kr,sn(e,0),Nt(e,r),Ne(e,ee()),n;if(t===6)Nt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Pm(s)&&(t=pi(e,r),t===2&&(i=Bo(e),i!==0&&(r=i,t=ga(e,i))),t===1))throw n=Kr,sn(e,0),Nt(e,r),Ne(e,ee()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:Yt(e,ke,lt);break;case 3:if(Nt(e,r),(r&130023424)===r&&(t=vl+500-ee(),10<t)){if(Js(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ye(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Jo(Yt.bind(null,e,ke,lt),t);break}Yt(e,ke,lt);break;case 4:if(Nt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Qe(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nm(r/1960))-r,10<r){e.timeoutHandle=Jo(Yt.bind(null,e,ke,lt),r);break}Yt(e,ke,lt);break;case 5:Yt(e,ke,lt);break;default:throw Error(E(329))}}}return Ne(e,ee()),e.callbackNode===n?vh.bind(null,e):null}function ga(e,t){var n=Nr;return e.current.memoizedState.isDehydrated&&(sn(e,t).flags|=256),e=pi(e,t),e!==2&&(t=ke,ke=n,t!==null&&va(t)),e}function va(e){ke===null?ke=e:ke.push.apply(ke,e)}function Pm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xe(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nt(e,t){for(t&=~gl,t&=~Ti,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qe(t),r=1<<n;e[n]=-1,t&=~r}}function Mu(e){if(F&6)throw Error(E(327));Mn();var t=Js(e,0);if(!(t&1))return Ne(e,ee()),null;var n=pi(e,t);if(e.tag!==0&&n===2){var r=Bo(e);r!==0&&(t=r,n=ga(e,r))}if(n===1)throw n=Kr,sn(e,0),Nt(e,t),Ne(e,ee()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yt(e,ke,lt),Ne(e,ee()),null}function yl(e,t){var n=F;F|=1;try{return e(t)}finally{F=n,F===0&&(Jn=ee()+500,Ei&&Vt())}}function dn(e){bt!==null&&bt.tag===0&&!(F&6)&&Mn();var t=F;F|=1;var n=Fe.transition,r=z;try{if(Fe.transition=null,z=1,e)return e()}finally{z=r,Fe.transition=n,F=t,!(F&6)&&Vt()}}function wl(){Te=An.current,H(An)}function sn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sm(n)),ne!==null)for(n=ne.return;n!==null;){var r=n;switch(Za(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ti();break;case 3:Kn(),H(Ee),H(me),ll();break;case 5:al(r);break;case 4:Kn();break;case 13:H(Q);break;case 19:H(Q);break;case 10:rl(r.type._context);break;case 22:case 23:wl()}n=n.return}if(le=e,ne=e=Ft(e.current,null),ce=Te=t,ie=0,Kr=null,gl=Ti=cn=0,ke=Nr=null,nn!==null){for(t=0;t<nn.length;t++)if(n=nn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}nn=null}return e}function yh(e,t){do{var n=ne;try{if(nl(),Us.current=ci,ui){for(var r=J.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ui=!1}if(un=0,ae=se=J=null,Er=!1,Vr=0,ml.current=null,n===null||n.return===null){ie=1,Kr=t,ne=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=ce,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Pu(o);if(y!==null){y.flags&=-257,Tu(y,o,a,i,t),y.mode&1&&Nu(i,u,t),t=y,l=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(l),t.updateQueue=v}else x.add(l);break e}else{if(!(t&1)){Nu(i,u,t),_l();break e}l=Error(E(426))}}else if(K&&a.mode&1){var _=Pu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Tu(_,o,a,i,t),el(Qn(l,a));break e}}i=l=Qn(l,a),ie!==4&&(ie=2),Nr===null?Nr=[i]:Nr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=th(i,l,t);xu(i,m);break e;case 1:a=l;var p=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Dt===null||!Dt.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=nh(i,a,t);xu(i,w);break e}}i=i.return}while(i!==null)}xh(n)}catch(k){t=k,ne===n&&n!==null&&(ne=n=n.return);continue}break}while(!0)}function wh(){var e=di.current;return di.current=ci,e===null?ci:e}function _l(){(ie===0||ie===3||ie===2)&&(ie=4),le===null||!(cn&268435455)&&!(Ti&268435455)||Nt(le,ce)}function pi(e,t){var n=F;F|=2;var r=wh();(le!==e||ce!==t)&&(lt=null,sn(e,t));do try{Tm();break}catch(s){yh(e,s)}while(!0);if(nl(),F=n,di.current=r,ne!==null)throw Error(E(261));return le=null,ce=0,ie}function Tm(){for(;ne!==null;)_h(ne)}function bm(){for(;ne!==null&&!tp();)_h(ne)}function _h(e){var t=Sh(e.alternate,e,Te);e.memoizedProps=e.pendingProps,t===null?xh(e):ne=t,ml.current=null}function xh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Sm(n,t),n!==null){n.flags&=32767,ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ie=6,ne=null;return}}else if(n=km(n,t,Te),n!==null){ne=n;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);ie===0&&(ie=5)}function Yt(e,t,n){var r=z,s=Fe.transition;try{Fe.transition=null,z=1,Rm(e,t,n,r)}finally{Fe.transition=s,z=r}return null}function Rm(e,t,n,r){do Mn();while(bt!==null);if(F&6)throw Error(E(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(dp(e,i),e===le&&(ne=le=null,ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||js||(js=!0,jh(Qs,function(){return Mn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Fe.transition,Fe.transition=null;var o=z;z=1;var a=F;F|=4,ml.current=null,Em(e,n),mh(n,e),Xp(Ko),Xs=!!Go,Ko=Go=null,e.current=n,Cm(n),np(),F=a,z=o,Fe.transition=i}else e.current=n;if(js&&(js=!1,bt=e,fi=s),i=e.pendingLanes,i===0&&(Dt=null),ip(n.stateNode),Ne(e,ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hi)throw hi=!1,e=pa,pa=null,e;return fi&1&&e.tag!==0&&Mn(),i=e.pendingLanes,i&1?e===ma?Pr++:(Pr=0,ma=e):Pr=0,Vt(),null}function Mn(){if(bt!==null){var e=td(fi),t=Fe.transition,n=z;try{if(Fe.transition=null,z=16>e?16:e,bt===null)var r=!1;else{if(e=bt,bt=null,fi=0,F&6)throw Error(E(331));var s=F;for(F|=4,b=e.current;b!==null;){var i=b,o=i.child;if(b.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(b=u;b!==null;){var d=b;switch(d.tag){case 0:case 11:case 15:Cr(8,d,i)}var h=d.child;if(h!==null)h.return=d,b=h;else for(;b!==null;){d=b;var g=d.sibling,y=d.return;if(hh(d),d===u){b=null;break}if(g!==null){g.return=y,b=g;break}b=y}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}b=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,b=o;else e:for(;b!==null;){if(i=b,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,b=m;break e}b=i.return}}var p=e.current;for(b=p;b!==null;){o=b;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,b=f;else e:for(o=p;b!==null;){if(a=b,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pi(9,a)}}catch(k){Z(a,a.return,k)}if(a===o){b=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,b=w;break e}b=a.return}}if(F=s,Vt(),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(_i,e)}catch{}r=!0}return r}finally{z=n,Fe.transition=t}}return!1}function Bu(e,t,n){t=Qn(n,t),t=th(e,t,1),e=It(e,t,1),t=ye(),e!==null&&(Zr(e,1,t),Ne(e,t))}function Z(e,t,n){if(e.tag===3)Bu(e,e,n);else for(;t!==null;){if(t.tag===3){Bu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dt===null||!Dt.has(r))){e=Qn(n,e),e=nh(t,e,1),t=It(t,e,1),e=ye(),t!==null&&(Zr(t,1,e),Ne(t,e));break}}t=t.return}}function Om(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ye(),e.pingedLanes|=e.suspendedLanes&n,le===e&&(ce&n)===n&&(ie===4||ie===3&&(ce&130023424)===ce&&500>ee()-vl?sn(e,0):gl|=n),Ne(e,t)}function kh(e,t){t===0&&(e.mode&1?(t=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):t=1);var n=ye();e=gt(e,t),e!==null&&(Zr(e,t,n),Ne(e,n))}function Lm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kh(e,n)}function $m(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),kh(e,n)}var Sh;Sh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ee.current)je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return je=!1,xm(e,t,n);je=!!(e.flags&131072)}else je=!1,K&&t.flags&1048576&&Nd(t,si,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var s=Vn(t,me.current);zn(t,n),s=cl(null,t,r,e,s,n);var i=dl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ce(r)?(i=!0,ni(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,il(t),s.updater=Ni,t.stateNode=s,s._reactInternals=t,ra(t,r,e,n),t=oa(null,t,r,!0,i,n)):(t.tag=0,K&&i&&Ya(t),ve(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Im(r),e=Ve(r,e),s){case 0:t=ia(null,t,r,e,n);break e;case 1:t=Ou(null,t,r,e,n);break e;case 11:t=bu(null,t,r,e,n);break e;case 14:t=Ru(null,t,r,Ve(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ve(r,s),ia(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ve(r,s),Ou(e,t,r,s,n);case 3:e:{if(oh(t),e===null)throw Error(E(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Ld(e,t),ai(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Qn(Error(E(423)),t),t=Lu(e,t,r,n,s);break e}else if(r!==s){s=Qn(Error(E(424)),t),t=Lu(e,t,r,n,s);break e}else for(be=At(t.stateNode.containerInfo.firstChild),Re=t,K=!0,Ke=null,n=Rd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hn(),r===s){t=vt(e,t,n);break e}ve(e,t,r,n)}t=t.child}return t;case 5:return $d(t),e===null&&ea(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Qo(r,s)?o=null:i!==null&&Qo(r,i)&&(t.flags|=32),ih(e,t),ve(e,t,o,n),t.child;case 6:return e===null&&ea(t),null;case 13:return ah(e,t,n);case 4:return ol(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gn(t,null,r,n):ve(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ve(r,s),bu(e,t,r,s,n);case 7:return ve(e,t,t.pendingProps,n),t.child;case 8:return ve(e,t,t.pendingProps.children,n),t.child;case 12:return ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,W(ii,r._currentValue),r._currentValue=o,i!==null)if(Xe(i.value,o)){if(i.children===s.children&&!Ee.current){t=vt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ft(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ta(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ta(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ve(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,zn(t,n),s=Me(s),r=r(s),t.flags|=1,ve(e,t,r,n),t.child;case 14:return r=t.type,s=Ve(r,t.pendingProps),s=Ve(r.type,s),Ru(e,t,r,s,n);case 15:return rh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ve(r,s),zs(e,t),t.tag=1,Ce(r)?(e=!0,ni(t)):e=!1,zn(t,n),eh(t,r,s),ra(t,r,s,n),oa(null,t,r,!0,e,n);case 19:return lh(e,t,n);case 22:return sh(e,t,n)}throw Error(E(156,t.tag))};function jh(e,t){return Xc(e,t)}function Am(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(e,t,n,r){return new Am(e,t,n,r)}function xl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Im(e){if(typeof e=="function")return xl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===za)return 11;if(e===Ma)return 14}return 2}function Ft(e,t){var n=e.alternate;return n===null?(n=Ue(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qs(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")xl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case En:return on(n.children,s,i,t);case Fa:o=8,s|=8;break;case No:return e=Ue(12,n,t,s|2),e.elementType=No,e.lanes=i,e;case Po:return e=Ue(13,n,t,s),e.elementType=Po,e.lanes=i,e;case To:return e=Ue(19,n,t,s),e.elementType=To,e.lanes=i,e;case $c:return bi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oc:o=10;break e;case Lc:o=9;break e;case za:o=11;break e;case Ma:o=14;break e;case St:o=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Ue(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function on(e,t,n,r){return e=Ue(7,e,r,t),e.lanes=n,e}function bi(e,t,n,r){return e=Ue(22,e,r,t),e.elementType=$c,e.lanes=n,e.stateNode={isHidden:!1},e}function mo(e,t,n){return e=Ue(6,e,null,t),e.lanes=n,e}function go(e,t,n){return t=Ue(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dm(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qi(0),this.expirationTimes=Qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kl(e,t,n,r,s,i,o,a,l){return e=new Dm(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ue(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},il(i),e}function Um(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Eh(e){if(!e)return Bt;e=e._reactInternals;e:{if(fn(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ce(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Ce(n))return Ed(e,n,t)}return t}function Ch(e,t,n,r,s,i,o,a,l){return e=kl(n,r,!0,e,s,i,o,a,l),e.context=Eh(null),n=e.current,r=ye(),s=Ut(n),i=ft(r,s),i.callback=t??null,It(n,i,s),e.current.lanes=s,Zr(e,s,r),Ne(e,r),e}function Ri(e,t,n,r){var s=t.current,i=ye(),o=Ut(s);return n=Eh(n),t.context===null?t.context=n:t.pendingContext=n,t=ft(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=It(s,t,o),e!==null&&(Je(e,s,o,i),Ds(e,s,o)),o}function mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sl(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}function Fm(){return null}var Nh=typeof reportError=="function"?reportError:function(e){console.error(e)};function jl(e){this._internalRoot=e}Oi.prototype.render=jl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Ri(e,t,null,null)};Oi.prototype.unmount=jl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dn(function(){Ri(null,e,null,null)}),t[mt]=null}};function Oi(e){this._internalRoot=e}Oi.prototype.unstable_scheduleHydration=function(e){if(e){var t=sd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ct.length&&t!==0&&t<Ct[n].priority;n++);Ct.splice(n,0,e),n===0&&od(e)}};function El(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Li(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wu(){}function zm(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=mi(o);i.call(u)}}var o=Ch(t,r,e,0,null,!1,!1,"",Wu);return e._reactRootContainer=o,e[mt]=o.current,zr(e.nodeType===8?e.parentNode:e),dn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=mi(l);a.call(u)}}var l=kl(e,0,!1,null,null,!1,!1,"",Wu);return e._reactRootContainer=l,e[mt]=l.current,zr(e.nodeType===8?e.parentNode:e),dn(function(){Ri(t,l,n,r)}),l}function $i(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=mi(o);a.call(l)}}Ri(t,o,e,s)}else o=zm(n,t,e,s,r);return mi(o)}nd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gr(t.pendingLanes);n!==0&&(Wa(t,n|1),Ne(t,ee()),!(F&6)&&(Jn=ee()+500,Vt()))}break;case 13:dn(function(){var r=gt(e,1);if(r!==null){var s=ye();Je(r,e,1,s)}}),Sl(e,1)}};Va=function(e){if(e.tag===13){var t=gt(e,134217728);if(t!==null){var n=ye();Je(t,e,134217728,n)}Sl(e,134217728)}};rd=function(e){if(e.tag===13){var t=Ut(e),n=gt(e,t);if(n!==null){var r=ye();Je(n,e,t,r)}Sl(e,t)}};sd=function(){return z};id=function(e,t){var n=z;try{return z=e,t()}finally{z=n}};Fo=function(e,t,n){switch(t){case"input":if(Oo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ji(r);if(!s)throw Error(E(90));Ic(r),Oo(r,s)}}}break;case"textarea":Uc(e,n);break;case"select":t=n.value,t!=null&&In(e,!!n.multiple,t,!1)}};Vc=yl;Hc=dn;var Mm={usingClientEntryPoint:!1,Events:[ts,Tn,ji,qc,Wc,yl]},hr={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bm={bundleType:hr.bundleType,version:hr.version,rendererPackageName:hr.rendererPackageName,rendererConfig:hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qc(e),e===null?null:e.stateNode},findFiberByHostInstance:hr.findFiberByHostInstance||Fm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{_i=Es.inject(Bm),rt=Es}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mm;Le.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!El(t))throw Error(E(200));return Um(e,t,null,n)};Le.createRoot=function(e,t){if(!El(e))throw Error(E(299));var n=!1,r="",s=Nh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kl(e,1,!1,null,null,n,!1,r,s),e[mt]=t.current,zr(e.nodeType===8?e.parentNode:e),new jl(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Qc(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return dn(e)};Le.hydrate=function(e,t,n){if(!Li(t))throw Error(E(200));return $i(null,e,t,!0,n)};Le.hydrateRoot=function(e,t,n){if(!El(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Nh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ch(t,null,e,1,n??null,s,!1,i,o),e[mt]=t.current,zr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Oi(t)};Le.render=function(e,t,n){if(!Li(t))throw Error(E(200));return $i(null,e,t,!1,n)};Le.unmountComponentAtNode=function(e){if(!Li(e))throw Error(E(40));return e._reactRootContainer?(dn(function(){$i(null,null,e,!1,function(){e._reactRootContainer=null,e[mt]=null})}),!0):!1};Le.unstable_batchedUpdates=yl;Le.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Li(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return $i(e,t,n,!1,r)};Le.version="18.3.1-next-f1338f8080-20240426";function Ph(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ph)}catch(e){console.error(e)}}Ph(),Pc.exports=Le;var qm=Pc.exports,Vu=qm;Eo.createRoot=Vu.createRoot,Eo.hydrateRoot=Vu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qr(){return Qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qr.apply(this,arguments)}var Rt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rt||(Rt={}));const Hu="popstate";function Wm(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return ya("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:gi(s)}return Hm(t,n,null,e)}function re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Th(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vm(){return Math.random().toString(36).substr(2,8)}function Gu(e,t){return{usr:e.state,key:e.key,idx:t}}function ya(e,t,n,r){return n===void 0&&(n=null),Qr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tr(t):t,{state:n,key:t&&t.key||r||Vm()})}function gi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function tr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Hm(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Rt.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Qr({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Rt.Pop;let _=d(),m=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:m})}function g(_,m){a=Rt.Push;let p=ya(v.location,_,m);u=d()+1;let f=Gu(p,u),w=v.createHref(p);try{o.pushState(f,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(w)}i&&l&&l({action:a,location:v.location,delta:1})}function y(_,m){a=Rt.Replace;let p=ya(v.location,_,m);u=d();let f=Gu(p,u),w=v.createHref(p);o.replaceState(f,"",w),i&&l&&l({action:a,location:v.location,delta:0})}function x(_){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof _=="string"?_:gi(_);return p=p.replace(/ $/,"%20"),re(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let v={get action(){return a},get location(){return e(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Hu,h),l=_,()=>{s.removeEventListener(Hu,h),l=null}},createHref(_){return t(s,_)},createURL:x,encodeLocation(_){let m=x(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:g,replace:y,go(_){return o.go(_)}};return v}var Ku;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ku||(Ku={}));function Gm(e,t,n){return n===void 0&&(n="/"),Km(e,t,n)}function Km(e,t,n,r){let s=typeof t=="string"?tr(t):t,i=Cl(s.pathname||"/",n);if(i==null)return null;let o=bh(e);Qm(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=ag(i);a=sg(o[l],u)}return a}function bh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(re(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=zt([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bh(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:ng(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Rh(i.path))s(i,o,l)}),t}function Rh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Rh(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Qm(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:rg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Jm=/^:[\w-]+$/,Xm=3,Ym=2,Zm=1,eg=10,tg=-2,Qu=e=>e==="*";function ng(e,t){let n=e.split("/"),r=n.length;return n.some(Qu)&&(r+=tg),t&&(r+=Ym),n.filter(s=>!Qu(s)).reduce((s,i)=>s+(Jm.test(i)?Xm:i===""?Zm:eg),r)}function rg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function sg(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=ig({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:zt([i,h.pathname]),pathnameBase:dg(zt([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=zt([i,h.pathnameBase]))}return o}function ig(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=og(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=a[h];return y&&!x?u[g]=void 0:u[g]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function og(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Th(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function ag(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Th(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function lg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?tr(e):e;return{pathname:n?n.startsWith("/")?n:ug(n,t):t,search:hg(r),hash:fg(s)}}function ug(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Oh(e,t){let n=cg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lh(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=tr(e):(s=Qr({},e),re(!s.pathname||!s.pathname.includes("?"),vo("?","pathname","search",s)),re(!s.pathname||!s.pathname.includes("#"),vo("#","pathname","hash",s)),re(!s.search||!s.search.includes("#"),vo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}a=h>=0?t[h]:"/"}let l=lg(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const zt=e=>e.join("/").replace(/\/\/+/g,"/"),dg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $h=["post","put","patch","delete"];new Set($h);const mg=["get",...$h];new Set(mg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jr.apply(this,arguments)}const Nl=S.createContext(null),gg=S.createContext(null),pn=S.createContext(null),Ai=S.createContext(null),mn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Ah=S.createContext(null);function vg(e,t){let{relative:n}=t===void 0?{}:t;rs()||re(!1);let{basename:r,navigator:s}=S.useContext(pn),{hash:i,pathname:o,search:a}=Dh(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zt([r,o])),s.createHref({pathname:l,search:a,hash:i})}function rs(){return S.useContext(Ai)!=null}function ss(){return rs()||re(!1),S.useContext(Ai).location}function Ih(e){S.useContext(pn).static||S.useLayoutEffect(e)}function yg(){let{isDataRoute:e}=S.useContext(mn);return e?Rg():wg()}function wg(){rs()||re(!1);let e=S.useContext(Nl),{basename:t,future:n,navigator:r}=S.useContext(pn),{matches:s}=S.useContext(mn),{pathname:i}=ss(),o=JSON.stringify(Oh(s,n.v7_relativeSplatPath)),a=S.useRef(!1);return Ih(()=>{a.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Lh(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:zt([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}function Dh(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(pn),{matches:s}=S.useContext(mn),{pathname:i}=ss(),o=JSON.stringify(Oh(s,r.v7_relativeSplatPath));return S.useMemo(()=>Lh(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function _g(e,t){return xg(e,t)}function xg(e,t,n,r){rs()||re(!1);let{navigator:s}=S.useContext(pn),{matches:i}=S.useContext(mn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=ss(),d;if(t){var h;let _=typeof t=="string"?tr(t):t;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||re(!1),d=_}else d=u;let g=d.pathname||"/",y=g;if(l!=="/"){let _=l.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=Gm(e,{pathname:y}),v=Cg(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:zt([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:zt([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return t&&v?S.createElement(Ai.Provider,{value:{location:Jr({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rt.Pop}},v):v}function kg(){let e=bg(),t=pg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,null)}const Sg=S.createElement(kg,null);class jg extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(mn.Provider,{value:this.props.routeContext},S.createElement(Ah.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Eg(e){let{routeContext:t,match:n,children:r}=e,s=S.useContext(Nl);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(mn.Provider,{value:t},r)}function Cg(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||re(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:g,errors:y}=n,x=h.route.loader&&g[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,g)=>{let y,x=!1,v=null,_=null;n&&(y=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||Sg,l&&(u<0&&g===0?(Og("route-fallback"),x=!0,_=null):u===g&&(x=!0,_=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,g+1)),p=()=>{let f;return y?f=v:x?f=_:h.route.Component?f=S.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=d,S.createElement(Eg,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:f})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?S.createElement(jg,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Uh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Uh||{}),Fh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fh||{});function Ng(e){let t=S.useContext(Nl);return t||re(!1),t}function Pg(e){let t=S.useContext(gg);return t||re(!1),t}function Tg(e){let t=S.useContext(mn);return t||re(!1),t}function zh(e){let t=Tg(),n=t.matches[t.matches.length-1];return n.route.id||re(!1),n.route.id}function bg(){var e;let t=S.useContext(Ah),n=Pg(),r=zh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Rg(){let{router:e}=Ng(Uh.UseNavigateStable),t=zh(Fh.UseNavigateStable),n=S.useRef(!1);return Ih(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Jr({fromRouteId:t},i)))},[e,t])}const Ju={};function Og(e,t,n){Ju[e]||(Ju[e]=!0)}function Lg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ws(e){re(!1)}function $g(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Rt.Pop,navigator:i,static:o=!1,future:a}=e;rs()&&re(!1);let l=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:o,future:Jr({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=tr(r));let{pathname:d="/",search:h="",hash:g="",state:y=null,key:x="default"}=r,v=S.useMemo(()=>{let _=Cl(d,l);return _==null?null:{location:{pathname:_,search:h,hash:g,state:y,key:x},navigationType:s}},[l,d,h,g,y,x,s]);return v==null?null:S.createElement(pn.Provider,{value:u},S.createElement(Ai.Provider,{children:n,value:v}))}function Ag(e){let{children:t,location:n}=e;return _g(wa(t),n)}new Promise(()=>{});function wa(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let i=[...t,s];if(r.type===S.Fragment){n.push.apply(n,wa(r.props.children,i));return}r.type!==Ws&&re(!1),!r.props.index||!r.props.children||re(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=wa(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a.apply(this,arguments)}function Ig(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Dg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ug(e,t){return e.button===0&&(!t||t==="_self")&&!Dg(e)}const Fg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zg="6";try{window.__reactRouterVersion=zg}catch{}const Mg="startTransition",Xu=Of[Mg];function Bg(e){let{basename:t,children:n,future:r,window:s}=e,i=S.useRef();i.current==null&&(i.current=Wm({window:s,v5Compat:!0}));let o=i.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=S.useCallback(h=>{u&&Xu?Xu(()=>l(h)):l(h)},[l,u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.useEffect(()=>Lg(r),[r]),S.createElement($g,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const qg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vg=S.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=t,g=Ig(t,Fg),{basename:y}=S.useContext(pn),x,v=!1;if(typeof u=="string"&&Wg.test(u)&&(x=u,qg))try{let f=new URL(window.location.href),w=u.startsWith("//")?new URL(f.protocol+u):new URL(u),k=Cl(w.pathname,y);w.origin===f.origin&&k!=null?u=k+w.search+w.hash:v=!0}catch{}let _=vg(u,{relative:s}),m=Hg(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function p(f){r&&r(f),f.defaultPrevented||m(f)}return S.createElement("a",_a({},g,{href:x||_,onClick:v||i?r:p,ref:n,target:l}))});var Yu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yu||(Yu={}));var Zu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zu||(Zu={}));function Hg(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=yg(),u=ss(),d=Dh(e,{relative:o});return S.useCallback(h=>{if(Ug(h,n)){h.preventDefault();let g=r!==void 0?r:gi(u)===gi(d);l(e,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,e,i,o,a])}const Gg="modulepreload",Kg=function(e){return"/"+e},ec={},is=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Kg(l),l in ec)return;ec[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Gg,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((g,y)=>{h.addEventListener("load",g),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Qg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>is(async()=>{const{default:r}=await Promise.resolve().then(()=>nr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Pl extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Jg extends Pl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Xg extends Pl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Yg extends Pl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xa;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xa||(xa={}));var Zg=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class ev{constructor(t,{headers:n={},customFetch:r,region:s=xa.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Qg(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Zg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(x=>{throw new Jg(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Xg(d);if(!d.ok)throw new Yg(d);let g=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield d.json():g==="application/octet-stream"?y=yield d.blob():g==="text/event-stream"?y=d:g==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Se={},Tl={},Ii={},os={},Di={},Ui={},tv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xn=tv();const nv=Xn.fetch,Mh=Xn.fetch.bind(Xn),Bh=Xn.Headers,rv=Xn.Request,sv=Xn.Response,nr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bh,Request:rv,Response:sv,default:Mh,fetch:nv},Symbol.toStringTag,{value:"Module"})),iv=gf(nr);var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});let ov=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Fi.default=ov;var qh=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ui,"__esModule",{value:!0});const av=qh(iv),lv=qh(Fi);let uv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=av.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,h=null,g=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,g=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,g=200,y="OK")}catch{i.status===404&&v===""?(g=204,y="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,g=200,y="OK"),u&&this.shouldThrowOnError)throw new lv.default(u)}return{error:u,data:d,count:h,status:g,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Ui.default=uv;var cv=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Di,"__esModule",{value:!0});const dv=cv(Ui);let hv=class extends dv.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Di.default=hv;var fv=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(os,"__esModule",{value:!0});const pv=fv(Di);let mv=class extends pv.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};os.default=mv;var gv=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ii,"__esModule",{value:!0});const fr=gv(os);let vv=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new fr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new fr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new fr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new fr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new fr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ii.default=vv;var zi={},Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.version=void 0;Mi.version="0.0.0-automated";Object.defineProperty(zi,"__esModule",{value:!0});zi.DEFAULT_HEADERS=void 0;const yv=Mi;zi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${yv.version}`};var Wh=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tl,"__esModule",{value:!0});const wv=Wh(Ii),_v=Wh(os),xv=zi;let kv=class Vh{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},xv.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new wv.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Vh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new _v.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Tl.default=kv;var rr=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Se,"__esModule",{value:!0});Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;const Hh=rr(Tl);Se.PostgrestClient=Hh.default;const Gh=rr(Ii);Se.PostgrestQueryBuilder=Gh.default;const Kh=rr(os);Se.PostgrestFilterBuilder=Kh.default;const Qh=rr(Di);Se.PostgrestTransformBuilder=Qh.default;const Jh=rr(Ui);Se.PostgrestBuilder=Jh.default;const Xh=rr(Fi);Se.PostgrestError=Xh.default;var Sv=Se.default={PostgrestClient:Hh.default,PostgrestQueryBuilder:Gh.default,PostgrestFilterBuilder:Kh.default,PostgrestTransformBuilder:Qh.default,PostgrestBuilder:Jh.default,PostgrestError:Xh.default};const{PostgrestClient:jv,PostgrestQueryBuilder:W0,PostgrestFilterBuilder:V0,PostgrestTransformBuilder:H0,PostgrestBuilder:G0,PostgrestError:K0}=Sv;let ka;typeof window>"u"?ka=require("ws"):ka=window.WebSocket;const Ev="2.11.10",Cv={"X-Client-Info":`realtime-js/${Ev}`},Nv="1.0.0",Yh=1e4,Pv=1e3;var Bn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bn||(Bn={}));var ge;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ge||(ge={}));var Ge;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ge||(Ge={}));var Sa;(function(e){e.websocket="websocket"})(Sa||(Sa={}));var en;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(en||(en={}));class Tv{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Zh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(q||(q={}));const tc=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=bv(o,e,t,s),i),{})},bv=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?ef(i,o):ja(o)},ef=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return $v(t,n)}switch(e){case q.bool:return Rv(t);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return Ov(t);case q.json:case q.jsonb:return Lv(t);case q.timestamp:return Av(t);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return ja(t);default:return ja(t)}},ja=e=>e,Rv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ov=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Lv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$v=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ef(t,a))}return e},Av=e=>typeof e=="string"?e.replace(" ","T"):e,tf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class yo{constructor(t,n,r={},s=Yh){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nc||(nc={}));class Tr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Tr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Tr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const g=d.map(_=>_.presence_ref),y=h.map(_=>_.presence_ref),x=d.filter(_=>y.indexOf(_.presence_ref)<0),v=h.filter(_=>g.indexOf(_.presence_ref)<0);x.length>0&&(a[u]=x),v.length>0&&(l[u]=v)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(y=>y.presence_ref),g=d.filter(y=>h.indexOf(y.presence_ref)<0);t[a].unshift(...g)}r(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rc||(rc={}));var sc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sc||(sc={}));var ut;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ut||(ut={}));class bl{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yo(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new Zh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Tr(this),this.broadcastEndpointURL=tf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(ut.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ut.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(ut.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(h=g==null?void 0:g.length)!==null&&h!==void 0?h:0,x=[];for(let v=0;v<y;v++){const _=g[v],{filter:{event:m,schema:p,table:f,filter:w}}=_,k=d&&d[v];if(k&&k.event===m&&k.schema===p&&k.table===f&&k.filter===w)x.push(Object.assign(Object.assign({},_),{id:k.id}));else{this.unsubscribe(),this.state=ge.errored,t==null||t(ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(ut.SUBSCRIBED);return}}).receive("error",d=>{this.state=ge.errored,t==null||t(ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ge.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new yo(this,Ge.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new yo(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Ge;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,v,_;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(v=y.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(y=>y.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var x,v,_,m,p,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const w=y.id,k=(x=y.filter)===null||x===void 0?void 0:x.event;return w&&((v=n.ids)===null||v===void 0?void 0:v.includes(w))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const w=(p=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((f=n==null?void 0:n.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:v,table:_,commit_timestamp:m,type:p,errors:f}=x;g=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:m,eventType:p,new:{},old:{},errors:f}),this._getPayloadRecords(x))}y.callback(g,r)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&bl.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ge.close,{},t)}_onError(t){this._on(Ge.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=tc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=tc(t.columns,t.old_record)),n}}const ic=()=>{},Iv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dv{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Cv,this.params={},this.timeout=Yh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ic,this.ref=0,this.logger=ic,this.conn=null,this.sendBuffer=[],this.serializer=new Tv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>is(async()=>{const{default:l}=await Promise.resolve().then(()=>nr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Sa.websocket}`,this.httpEndpoint=tf(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Zh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ka),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Uv(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Nv}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bn.connecting:return en.Connecting;case Bn.open:return en.Open;case Bn.closing:return en.Closing;default:return en.Closed}}isConnected(){return this.connectionState()===en.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new bl(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Ge.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Pv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ge.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Iv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Uv{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Bn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Rl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Fv extends Rl{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ea extends Rl{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var zv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const nf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>is(async()=>{const{default:r}=await Promise.resolve().then(()=>nr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Mv=()=>zv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield is(()=>Promise.resolve().then(()=>nr),void 0)).Response:Response}),Ca=e=>{if(Array.isArray(e))return e.map(n=>Ca(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ca(r)}),t};var gn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const wo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Bv=(e,t,n)=>gn(void 0,void 0,void 0,function*(){const r=yield Mv();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Fv(wo(s),e.status||500))}).catch(s=>{t(new Ea(wo(s),s))}):t(new Ea(wo(e),e))}),qv=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function as(e,t,n,r,s,i){return gn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,qv(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Bv(l,a,r))})})}function vi(e,t,n,r){return gn(this,void 0,void 0,function*(){return as(e,"GET",t,n,r)})}function Et(e,t,n,r,s){return gn(this,void 0,void 0,function*(){return as(e,"POST",t,r,s,n)})}function Wv(e,t,n,r,s){return gn(this,void 0,void 0,function*(){return as(e,"PUT",t,r,s,n)})}function Vv(e,t,n,r){return gn(this,void 0,void 0,function*(){return as(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function rf(e,t,n,r,s){return gn(this,void 0,void 0,function*(){return as(e,"DELETE",t,r,s,n)})}var xe=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Hv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gv{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=nf(s)}uploadOrUpdate(t,n,r,s){return xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},oc),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield h.json();return h.ok?{data:{path:u,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(oe(i))return{data:null,error:i};throw i}})}upload(t,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:oc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),g=yield h.json();return h.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(oe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Et(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Rl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}update(t,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return xe(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}copy(t,n,r){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield Et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Et(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return xe(this,void 0,void 0,function*(){try{const s=yield Et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}download(t,n){return xe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield vi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}})}info(t){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield vi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ca(r),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}exists(t){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Vv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(oe(r)&&r instanceof Ea){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return xe(this,void 0,void 0,function*(){try{return{data:yield rf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}list(t,n,r){return xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Hv),n),{prefix:t||""});return{data:yield Et(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Kv="2.7.1",Qv={"X-Client-Info":`storage-js/${Kv}`};var wn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Jv{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Qv),n),this.fetch=nf(r)}listBuckets(){return wn(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(oe(t))return{data:null,error:t};throw t}})}getBucket(t){return wn(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return wn(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return wn(this,void 0,void 0,function*(){try{return{data:yield Wv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return wn(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return wn(this,void 0,void 0,function*(){try{return{data:yield rf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}}class Xv extends Jv{constructor(t,n={},r){super(t,n,r)}from(t){return new Gv(this.url,this.headers,t,this.fetch)}}const Yv="2.50.0";let yr="";typeof Deno<"u"?yr="deno":typeof document<"u"?yr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yr="react-native":yr="node";const Zv={"X-Client-Info":`supabase-js-${yr}/${Yv}`},ey={headers:Zv},ty={schema:"public"},ny={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ry={};var sy=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const iy=e=>{let t;return e?t=e:typeof fetch>"u"?t=Mh:t=fetch,(...n)=>t(...n)},oy=()=>typeof Headers>"u"?Bh:Headers,ay=(e,t,n)=>{const r=iy(n),s=oy();return(i,o)=>sy(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var ly=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function uy(e){return e.endsWith("/")?e:e+"/"}function cy(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:d,global:h}=t,g={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ly(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const sf="2.70.0",Sn=30*1e3,Na=3,_o=Na*Sn,dy="http://localhost:9999",hy="supabase.auth.token",fy={"X-Client-Info":`gotrue-js/${sf}`},Pa="X-Supabase-Api-Version",of={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},py=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,my=6e5;class Ol extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gy extends Ol{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function vy(e){return $(e)&&e.name==="AuthApiError"}class af extends Ol{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ht extends Ol{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class kt extends Ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yy(e){return $(e)&&e.name==="AuthSessionMissingError"}class Cs extends Ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ns extends Ht{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ps extends Ht{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wy(e){return $(e)&&e.name==="AuthImplicitGrantRedirectError"}class ac extends Ht{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ta extends Ht{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function xo(e){return $(e)&&e.name==="AuthRetryableFetchError"}class lc extends Ht{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class br extends Ht{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uc=` 	
\r=`.split(""),_y=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<uc.length;t+=1)e[uc[t].charCodeAt(0)]=-2;for(let t=0;t<yi.length;t+=1)e[yi[t].charCodeAt(0)]=t;return e})();function cc(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(yi[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(yi[r]),t.queuedBits-=6}}function lf(e,t,n){const r=_y[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dc(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Sy(o,r,n)};for(let o=0;o<e.length;o+=1)lf(e.charCodeAt(o),s,i);return t.join("")}function xy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ky(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}xy(r,t)}}function Sy(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function jy(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)lf(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Ey(e){const t=[];return ky(e,n=>t.push(n)),new Uint8Array(t)}function Cy(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>cc(s,n,r)),cc(null,n,r),t.join("")}function Ny(e){return Math.round(Date.now()/1e3)+e}function Py(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const We=()=>typeof window<"u"&&typeof document<"u",Jt={tested:!1,writable:!1},Rr=()=>{if(!We())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jt.tested)return Jt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Jt.tested=!0,Jt.writable=!0}catch{Jt.tested=!0,Jt.writable=!1}return Jt.writable};function Ty(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const uf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>is(async()=>{const{default:r}=await Promise.resolve().then(()=>nr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},by=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cf=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ts=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bs=async(e,t)=>{await e.removeItem(t)};class Bi{constructor(){this.promise=new Bi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Bi.promiseConstructor=Promise;function ko(e){const t=e.split(".");if(t.length!==3)throw new br("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!py.test(t[r]))throw new br("JWT not in base64url format");return{header:JSON.parse(dc(t[0])),payload:JSON.parse(dc(t[1])),signature:jy(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ry(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Oy(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Ly(e){return("0"+e.toString(16)).substr(-2)}function $y(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Ly).join("")}async function Ay(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Iy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Ay(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _n(e,t,n=!1){const r=$y();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await cf(e,`${t}-code-verifier`,s);const i=await Iy(r);return[i,r===i?"plain":"s256"]}const Dy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uy(e){const t=e.headers.get(Pa);if(!t||!t.match(Dy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Fy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const My=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xn(e){if(!My.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var By=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Zt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qy=[502,503,504];async function hc(e){var t;if(!by(e))throw new Ta(Zt(e),0);if(qy.includes(e.status))throw new Ta(Zt(e),e.status);let n;try{n=await e.json()}catch(i){throw new af(Zt(i),i)}let r;const s=Uy(e);if(s&&s.getTime()>=of["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new lc(Zt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new kt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new lc(Zt(n),e.status,n.weak_password.reasons);throw new gy(Zt(n),e.status||500,r)}const Wy=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function A(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Pa]||(i[Pa]=of["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Vy(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Vy(e,t,n,r,s,i){const o=Wy(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Ta(Zt(l),0)}if(a.ok||await hc(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await hc(l)}}function at(e){var t;let n=null;Qy(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ny(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function fc(e){const t=at(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Hy(e){return{data:e,error:null}}function Gy(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=By(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ky(e){return e}function Qy(e){return e.access_token&&e.refresh_token&&e.expires_in}const So=["global","local","others"];var Jy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Xy{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=uf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=So[0]){if(So.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${So.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Jy(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Gy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ky});if(d.error)throw d.error;const h=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);u[`${_}Page`]=v}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){xn(t);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){xn(t);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){xn(t);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){xn(t.userId);try{const{data:n,error:r}=await A(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(t){xn(t.userId),xn(t.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}const Yy={getItem:e=>Rr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Rr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Rr()&&globalThis.localStorage.removeItem(e)}};function pc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Zy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kn={debug:!!(globalThis&&Rr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class df extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class e0 extends df{}async function t0(e,t,n){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new e0(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Zy();const n0={url:dy,storageKey:hy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mc(e,t,n){return await n()}class Xr{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xr.nextInstanceID,Xr.nextInstanceID+=1,this.instanceID>0&&We()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},n0),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Xy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=uf(s.fetch),this.lock=s.lock||mc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:We()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=t0:this.lock=mc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Rr()?this.storage=Yy:(this.memoryStorage={},this.storage=pc(this.memoryStorage)):(this.memoryStorage={},this.storage=pc(this.memoryStorage)),We()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Ty(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),We()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),wy(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?{error:n}:{error:new af("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:at}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:g}=t;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await _n(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:x},xform:at})}else if("phone"in t){const{phone:d,password:h,options:g}=t;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:at})}else throw new Ns("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:fc})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:fc})}else throw new Ns("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Cs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,a,l,u,d,h,g,y;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:_,wallet:m,statement:p,options:f}=t;let w;if(We())if(typeof m=="object")w=m;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))w=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const k=new URL((n=f==null?void 0:f.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const j=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)x=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${k.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=f==null?void 0:f.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((l=f==null?void 0:f.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((u=f==null?void 0:f.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(d=f==null?void 0:f.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=j}}try{const{data:_,error:m}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Cy(v)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:at});if(m)throw m;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Cs}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:m})}catch(_){if($(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await Ts(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:at});if(await bs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Cs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:at}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Cs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await _n(this.storage,this.storageKey));const{error:h}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ns("You must provide either an email or phone number.")}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:at});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await _n(this.storage,this.storageKey)),await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Hy})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new kt;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await A(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await A(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ns("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<_o:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kt}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Pt})})}catch(n){if($(n))return yy(n)&&(await this._removeSession(),await bs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new kt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await _n(this.storage,this.storageKey));const{data:u,error:d}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Pt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new kt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=ko(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new kt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!We())throw new Ps("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ps(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ac("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ps("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ac("No code detected.");const{data:p,error:f}=await this._exchangeCodeForSession(t.code);if(f)throw f;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Ps("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let g=d+h;l&&(g=parseInt(l));const y=g-d;y*1e3<=Sn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const x=g-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,d);const{data:v,error:_}=await this._getUser(i);if(_)throw _;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if($(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ts(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(vy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await bs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Py(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await _n(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:g}=i;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return We()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if($(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Oy(async s=>(s>0&&await Ry(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:at})),(s,i)=>{const o=200*Math.pow(2,s);return i&&xo(i)&&Date.now()+o-r<Sn})}catch(r){if(this._debug(n,"error",r),$(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),We()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ts(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<_o;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${_o}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),xo(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new kt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),$(i)){const o={session:null,error:i};return xo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await cf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await bs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&We()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Sn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Sn}ms, refresh threshold is ${Na} ticks`),s<=Na&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof df)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!We()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await _n(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await A(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await A(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ko(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+my>Date.now()))return r;const{data:s,error:i}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new br("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new br("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=ko(r);if(Fy(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const u=zy(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Ey(`${a}.${l}`)))throw new br("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}Xr.nextInstanceID=0;const r0=Xr;class s0 extends r0{constructor(t){super(t)}}var i0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class o0{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=uy(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:ty,realtime:ry,auth:Object.assign(Object.assign({},ny),{storageKey:u}),global:ey},h=cy(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=ay(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new jv(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new ev(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Xv(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return i0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Dv(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const a0=(e,t,n)=>new o0(e,t,n),l0="https://xozehlvordekbdbsshbt.supabase.co",u0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhvemVobHZvcmRla2JkYnNzaGJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA0ODQzNDEsImV4cCI6MjA2NjA2MDM0MX0.1QXyVFyLVePzHg6BtJafr2z5Sm-Y-W2U_GrbLbq5EYI",te=a0(l0,u0),c0=async(e,t,n)=>{const{data:r,error:s}=await te.auth.signUp({email:e,password:t,options:{data:{username:n}}});return{data:r,error:s}},d0=async(e,t)=>{const{data:n,error:r}=await te.auth.signInWithPassword({email:e,password:t});return{data:n,error:r}},Vs=async e=>{const{data:t,error:n}=await te.from("profiles").select("*").eq("id",e).single();return{data:t,error:n}},h0=async(e,t)=>{const{data:n,error:r}=await te.from("profiles").update({...t,last_activity:new Date().toISOString(),last_seen:new Date().toISOString()}).eq("id",e).select().single();return{data:n,error:r}},ba=async(e,t)=>{const{data:n,error:r}=await Vs(e);if(r)return{data:null,error:r};const{data:s,error:i}=await h0(e,{total_xp:n.total_xp+t});return{data:s,error:i}},f0=async e=>{const{data:t,error:n}=await te.from("user_lessons").select(`
      *,
      lessons (*)
    `).eq("user_id",e);return{data:t,error:n}},p0=async(e=50)=>{try{const{data:t,error:n}=await te.from("profiles").select("id, username, total_xp, current_rank, display_tag, last_seen").order("total_xp",{ascending:!1}).limit(e);return n?(console.error("Leaderboard query error:",n),{data:null,error:n}):{data:(t||[]).map((s,i)=>({...s,position:i+1})),error:null}}catch(t){return console.error("Leaderboard fetch error:",t),{data:[],error:t}}},m0=async e=>{try{const{data:t,error:n}=await te.from("profiles").select("id, total_xp").order("total_xp",{ascending:!1});return n?{data:0,error:n}:{data:t.findIndex(s=>s.id===e)+1,error:null}}catch(t){return console.error("User rank error:",t),{data:0,error:t}}},g0=async e=>{try{const{data:t,error:n}=await te.from("friendships").select(`
        id,
        requester_id,
        addressee_id,
        status,
        requester:profiles!friendships_requester_id_fkey (
          id, username, total_xp, current_rank, display_tag, last_seen
        ),
        addressee:profiles!friendships_addressee_id_fkey (
          id, username, total_xp, current_rank, display_tag, last_seen
        )
      `).or(`requester_id.eq.${e},addressee_id.eq.${e}`).eq("status","accepted");return n?(console.error("Friends list error:",n),{data:[],error:null}):{data:(t||[]).map((s,i)=>{const o=s.requester_id===e?s.addressee:s.requester;return!o||o.id===e?null:{...o,position:i+1}}).filter(s=>s!==null),error:null}}catch(t){return console.error("Friends fetch error:",t),{data:[],error:null}}},v0=async e=>{try{const{data:t,error:n}=await te.from("friendships").select(`
        id,
        requester_id,
        created_at,
        requester:profiles!friendships_requester_id_fkey (
          username,
          total_xp,
          current_rank,
          display_tag
        )
      `).eq("addressee_id",e).eq("status","pending").order("created_at",{ascending:!1});return{data:t||[],error:n}}catch(t){return console.error("Friend requests error:",t),{data:[],error:t}}},y0=async(e,t)=>{try{const{data:n,error:r}=await te.from("profiles").select("id").eq("username",t).single();if(r||!n)return{data:{success:!1,message:"User not found"},error:null};if(n.id===e)return{data:{success:!1,message:"Cannot send friend request to yourself"},error:null};const{data:s,error:i}=await te.from("friendships").select("*").or(`and(requester_id.eq.${e},addressee_id.eq.${n.id}),and(requester_id.eq.${n.id},addressee_id.eq.${e})`);if(s&&s.length>0)return{data:{success:!1,message:"Friend request already exists"},error:null};const{data:o,error:a}=await te.from("friendships").insert({requester_id:e,addressee_id:n.id,status:"pending"});return a?{data:{success:!1,message:"Error sending friend request"},error:a}:{data:{success:!0,message:"Friend request sent!"},error:null}}catch(n){return console.error("Send friend request error:",n),{data:{success:!1,message:"Error sending friend request"},error:n}}},w0=async(e,t,n)=>{try{const{data:r,error:s}=await te.from("friendships").update({status:n,updated_at:new Date().toISOString()}).eq("id",t).eq("addressee_id",e).eq("status","pending");return s?{data:{success:!1,message:"Error responding to friend request"},error:s}:{data:{success:!0,message:`Friend request ${n}!`},error:null}}catch(r){return console.error("Respond to friend request error:",r),{data:{success:!1,message:"Error responding to friend request"},error:r}}},_0=async(e,t,n=10)=>{try{const{data:r,error:s}=await te.from("profiles").select("id, username, total_xp, current_rank, display_tag").ilike("username",`%${e}%`).neq("id",t).limit(n);return{data:r||[],error:s}}catch(r){return console.error("Search users error:",r),{data:[],error:r}}},x0=async(e,t)=>{try{const{data:n,error:r}=await te.from("duels").insert({challenger_id:e,opponent_id:t,status:"pending"}).select().single();return{data:n,error:r}}catch(n){return console.error("Create duel error:",n),{data:null,error:n}}},k0=async(e,t,n)=>{try{const r=Math.max(Math.floor(n/3),3),{data:s,error:i}=await te.from("duels").update({status:"completed",winner_id:t,xp_reward:n,completed_at:new Date().toISOString()}).eq("id",e).select().single();if(i)return{data:null,error:i};await ba(t,n);const o=s.challenger_id===t?s.opponent_id:s.challenger_id;return await ba(o,r),{data:{...s,winner_xp:n,loser_xp:r},error:null}}catch(r){return console.error("Complete duel error:",r),{data:null,error:r}}};let Rs=null,qn=new Map,jo=new Map;const S0=e=>{try{return Rs&&Rs.unsubscribe(),Rs=te.channel("leaderboard-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:"total_xp=neq.null"},e).subscribe(),Rs}catch(t){return console.error("Leaderboard subscription error:",t),{unsubscribe:()=>{}}}},j0=(e,t)=>{try{qn.has(e)&&qn.get(e).unsubscribe();const n=te.channel(`friend-requests-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"friendships",filter:`addressee_id=eq.${e}`},t).subscribe();return qn.set(e,n),n}catch(n){return console.error("Friend requests subscription error:",n),{unsubscribe:()=>{}}}},E0=e=>{qn.has(e)&&(qn.get(e).unsubscribe(),qn.delete(e))},C0=(e,t)=>{try{jo.has(e)&&jo.get(e).unsubscribe();const n=te.channel(`user-profile-${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${e}`},t).subscribe();return jo.set(e,n),n}catch(n){return console.error("User profile subscription error:",n),{unsubscribe:()=>{}}}},hf=S.createContext({}),Ll=()=>{const e=S.useContext(hf);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},N0=({children:e})=>{const[t,n]=S.useState(null),[r,s]=S.useState(null),[i,o]=S.useState(!0),[a,l]=S.useState(null);S.useEffect(()=>{let _=!0;return(async()=>{try{console.log("Initializing authentication...");const{data:{session:p},error:f}=await te.auth.getSession();if(f)throw console.error("Error getting session:",f),new Error(`Session error: ${f.message}`);if(!_)return;console.log("Session data:",p);const w=(p==null?void 0:p.user)||null;if(n(w),w){console.log("Fetching user profile for:",w.id);const{data:j,error:C}=await Vs(w.id);C?(console.error("Error getting user profile:",C),s(null)):(console.log("User profile:",j),s(u(j)))}else s(null);console.log("Setting up auth state listener...");const{data:{subscription:k}}=te.auth.onAuthStateChange(async(j,C)=>{var O;try{if(console.log("Auth state changed:",j,(O=C==null?void 0:C.user)==null?void 0:O.id),!_)return;const U=(C==null?void 0:C.user)||null;if(n(U),U){const{data:L,error:G}=await Vs(U.id);G?(console.error("Error getting profile on auth change:",G),s(null)):s(u(L))}else s(null)}catch(U){console.error("Error in auth state change handler:",U),l(`Auth state change error: ${U.message}`)}});return()=>{console.log("Cleaning up auth subscription..."),k.unsubscribe()}}catch(p){console.error("Error initializing auth:",p),_&&l(p.message)}finally{_&&o(!1)}})(),()=>{_=!1}},[]);const u=_=>{if(!_)return null;try{const m=new Date;let p;try{p=new Date(_.last_activity),isNaN(p.getTime())&&(console.warn("Invalid last_activity date, using current time"),p=new Date)}catch(j){console.warn("Error parsing last_activity date, using current time:",j),p=new Date}const f=Math.floor((m-p)/(1e3*60*60*24));let w=_.daily_streak||0;f===0||(f===1?w=Math.min(w+1,15):f>1&&(w=0));const k=[];return _.total_xp>=100&&k.push("100_xp_club"),_.total_xp>=25&&k.push("first_lesson"),w>=7&&k.push("streak_master"),_.current_rank==="Bronze"&&k.push("bronze_rank"),_.current_rank==="Silver"&&k.push("silver_rank"),_.current_rank==="Gold"&&k.push("gold_rank"),_.total_xp>=200&&k.push("speed_demon"),_.total_xp>=500&&k.push("perfectionist"),{..._,daily_streak:w,earned_badges:k,cham_color:d(_.total_xp),display_tag:_.display_tag||"WLU",customization:{cham_color:d(_.total_xp),display_tag:_.display_tag||"WLU"}}}catch(m){return console.error("Error enhancing profile:",m),l(`Profile enhancement error: ${m.message}`),_}},d=_=>_>=2500?"#FFD700":_>=1e3?"#C0C0C0":"#CD7F32",v={user:t,profile:r,loading:i,authError:a,refreshProfile:async()=>{if(t)try{console.log("Refreshing profile for user:",t.id);const{data:_,error:m}=await Vs(t.id);if(m)throw console.error("Error refreshing profile:",m),m;s(u(_))}catch(_){console.error("Error in refreshProfile:",_),l(`Profile refresh error: ${_.message}`)}},updateProfileCustomization:_=>{r&&s({...r,..._,customization:{...r.customization,..._}})},addXP:_=>{if(r){const m=r.total_xp+_;s({...r,total_xp:m,cham_color:d(m)})}},clearAuthError:()=>{l(null)}};return c.jsx(hf.Provider,{value:v,children:e})},P0=()=>{const e=ss(),t=[{path:"/",label:"Dashboard",icon:"📊",title:"ChamCode"},{path:"/lessons",label:"Lessons",icon:"🎓",title:"Learn"},{path:"/leaderboard",label:"Leaderboard",icon:"🏆",title:"Rankings"}];return c.jsx("nav",{className:"bottom-navigation",children:t.map(n=>c.jsxs(Vg,{to:n.path,className:`nav-item ${e.pathname===n.path?"active":""}`,children:[c.jsx("span",{className:"nav-icon",children:n.icon}),c.jsx("span",{className:"nav-label",children:n.label})]},n.path))})},wr=({mood:e="happy",message:t="",size:n="large",showAnimation:r=!1})=>{const[s,i]=S.useState(!1);S.useEffect(()=>{if(r){i(!0);const u=setTimeout(()=>i(!1),1e3);return()=>clearTimeout(u)}},[r,e]);const a=(()=>{switch(e){case"celebrating":return{emoji:"🦎🎉",color:"#FFD700",defaultMessage:"Amazing work!"};case"excited":return{emoji:"🦎✨",color:"#FF6B6B",defaultMessage:"Let's code!"};case"thinking":return{emoji:"🦎🤔",color:"#4ECDC4",defaultMessage:"Hmm, interesting..."};case"confused":return{emoji:"🦎😵",color:"#FFA726",defaultMessage:"That's tricky!"};case"tired":return{emoji:"🦎😴",color:"#9E9E9E",defaultMessage:"Time to wake up!"};case"proud":return{emoji:"🦎😎",color:"#8BC34A",defaultMessage:"You're crushing it!"};case"encouraging":return{emoji:"🦎💪",color:"#2196F3",defaultMessage:"Keep going!"};default:return{emoji:"🦎😊",color:"#4CAF50",defaultMessage:"Ready to learn!"}}})(),l=t||a.defaultMessage;return c.jsxs("div",{className:`cham-reaction ${n} ${s?"animating":""}`,children:[c.jsx("div",{className:"reaction-mascot",style:{color:a.color},children:a.emoji}),l&&c.jsx("div",{className:"reaction-message",style:{color:a.color},children:l})]})},Ra=({children:e,onClick:t,disabled:n=!1,className:r="",style:s={}})=>{const i=t?"button":"div";return c.jsx(i,{className:`card ${n?"disabled":""} ${r}`,onClick:t,disabled:n,style:s,children:e})},T0=({rank:e,size:t="medium"})=>{const n=()=>{switch(e.toLowerCase()){case"gold":return"#FFD700";case"silver":return"#C0C0C0";case"bronze":return"#CD7F32";default:return"#9E9E9E"}},r=()=>{switch(e.toLowerCase()){case"gold":return"🏆";case"silver":return"🥈";case"bronze":return"🥉";default:return"🏅"}};return c.jsxs("div",{className:`badge ${t}`,style:{backgroundColor:n()},children:[c.jsx("span",{className:"badge-emoji",children:r()}),c.jsx("span",{className:"badge-text",children:e})]})},b0=({badgeType:e,size:t="medium"})=>{const r=(()=>{switch(e){case"100_xp_club":return{emoji:"💯",title:"100 XP Club",color:"#4CAF50",description:"Earned 100+ XP"};case"first_lesson":return{emoji:"🎓",title:"First Steps",color:"#2196F3",description:"Completed first lesson"};case"weekly_winner":return{emoji:"👑",title:"Weekly Champion",color:"#FFD700",description:"Top performer this week"};case"streak_master":return{emoji:"🔥",title:"Streak Master",color:"#FF5722",description:"7+ day streak"};case"speed_demon":return{emoji:"⚡",title:"Speed Demon",color:"#9C27B0",description:"Completed lesson in under 2 minutes"};case"perfectionist":return{emoji:"⭐",title:"Perfectionist",color:"#FF9800",description:"100% score on 5 lessons"};case"challenger":return{emoji:"⚔️",title:"Challenger",color:"#F44336",description:"Won 3 duels"};case"bronze_rank":return{emoji:"🥉",title:"Bronze Coder",color:"#CD7F32",description:"Reached Bronze rank"};case"silver_rank":return{emoji:"🥈",title:"Silver Coder",color:"#C0C0C0",description:"Reached Silver rank"};case"gold_rank":return{emoji:"🥇",title:"Gold Coder",color:"#FFD700",description:"Reached Gold rank"};default:return{emoji:"🏅",title:"Achievement",color:"#9E9E9E",description:"Special achievement"}}})();return c.jsxs("div",{className:`badge-container ${t}`,children:[c.jsx("div",{className:"badge-icon",style:{backgroundColor:r.color},children:c.jsx("span",{className:"badge-emoji",children:r.emoji})}),c.jsxs("div",{className:"badge-info",children:[c.jsx("div",{className:"badge-title",children:r.title}),t!=="small"&&c.jsx("div",{className:"badge-description",children:r.description})]})]})},R0=({progress:e,total:t,color:n="#4CAF50",showText:r=!0})=>{const s=Math.min(e/t*100,100);return c.jsxs("div",{className:"progress-container",children:[r&&c.jsxs("div",{className:"progress-text",children:[e," / ",t," lessons completed"]}),c.jsx("div",{className:"progress-bar-container",children:c.jsx("div",{className:"progress-bar",style:{width:`${s}%`,backgroundColor:n}})}),r&&c.jsxs("div",{className:"progress-percentage",children:[Math.round(s),"%"]})]})},O0=({currentXP:e,currentRank:t})=>{const r={Bronze:{min:0,max:999,next:"Silver"},Silver:{min:1e3,max:2499,next:"Gold"},Gold:{min:2500,max:1/0,next:"Legend"}},s=r[t]||r.Bronze,i=e-s.min,o=s.max===1/0?1e3:s.max+1-s.min,a=s.max===1/0?0:s.max+1-e,l=u=>{switch(u){case"Silver":return"#C0C0C0";case"Gold":return"#FFD700";case"Legend":return"#FF6B6B";default:return"#CD7F32"}};return t==="Gold"&&e>=2500?c.jsxs("div",{className:"xp-goal-container",children:[c.jsxs("div",{className:"goal-header",children:[c.jsx("span",{className:"goal-icon",children:"👑"}),c.jsx("span",{className:"goal-text",children:"Maximum Rank Achieved!"})]}),c.jsx("div",{className:"max-rank-message",children:"You've reached the highest rank! Keep learning to maintain your status."})]}):c.jsxs("div",{className:"xp-goal-container",children:[c.jsxs("div",{className:"goal-header",children:[c.jsx("span",{className:"goal-icon",children:"🎯"}),c.jsxs("span",{className:"goal-text",children:[a," XP to ",s.next]})]}),c.jsx(R0,{progress:i,total:o,color:l(s.next),showText:!1}),c.jsxs("div",{className:"goal-details",children:[c.jsxs("span",{className:"current-progress",children:[i," / ",o," XP"]}),c.jsxs("span",{className:"next-rank",style:{color:l(s.next)},children:[s.next," Rank"]})]})]})},ff=({isOpen:e,onClose:t})=>{const[n,r]=S.useState(!1),[s,i]=S.useState(""),[o,a]=S.useState(""),[l,u]=S.useState(""),[d,h]=S.useState(!1),[g,y]=S.useState(""),x=async v=>{v.preventDefault(),h(!0),y("");try{if(n){const{error:_}=await c0(s,o,l);if(_)throw _;alert("Check your email for the confirmation link!")}else{const{error:_}=await d0(s,o);if(_)throw _}t()}catch(_){y(_.message)}finally{h(!1)}};return e?c.jsx("div",{className:"auth-modal-overlay",onClick:t,children:c.jsxs("div",{className:"auth-modal",onClick:v=>v.stopPropagation(),children:[c.jsxs("div",{className:"auth-modal-header",children:[c.jsx("h2",{children:n?"Join ChamCode":"Welcome Back"}),c.jsx("button",{className:"close-button",onClick:t,children:"×"})]}),c.jsxs("form",{onSubmit:x,className:"auth-form",children:[n&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"username",children:"Username"}),c.jsx("input",{id:"username",type:"text",value:l,onChange:v=>u(v.target.value),required:!0,placeholder:"Choose a username"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{id:"email",type:"email",value:s,onChange:v=>i(v.target.value),required:!0,placeholder:"Enter your email"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"Password"}),c.jsx("input",{id:"password",type:"password",value:o,onChange:v=>a(v.target.value),required:!0,placeholder:"Enter your password",minLength:6})]}),g&&c.jsx("div",{className:"error-message",children:g}),c.jsx("button",{type:"submit",className:"auth-button",disabled:d,children:d?"Loading...":n?"Sign Up":"Sign In"})]}),c.jsx("div",{className:"auth-switch",children:c.jsxs("p",{children:[n?"Already have an account?":"Don't have an account?",c.jsx("button",{type:"button",className:"switch-button",onClick:()=>r(!n),children:n?"Sign In":"Sign Up"})]})})]})}):null},$l=({message:e,type:t="success",duration:n=3e3,onClose:r})=>{const[s,i]=S.useState(!0);S.useEffect(()=>{const l=setTimeout(()=>{i(!1),setTimeout(r,300)},n);return()=>clearTimeout(l)},[n,r]);const a=(()=>{switch(t){case"xp_bonus":return{icon:"⭐",bgColor:"#FFD700",textColor:"#333"};case"streak":return{icon:"🔥",bgColor:"#FF5722",textColor:"white"};case"achievement":return{icon:"🏆",bgColor:"#4CAF50",textColor:"white"};case"encouragement":return{icon:"💪",bgColor:"#2196F3",textColor:"white"};default:return{icon:"✨",bgColor:"#4CAF50",textColor:"white"}}})();return c.jsx("div",{className:`motivational-toast ${s?"visible":"hidden"}`,children:c.jsxs("div",{className:"toast-content",style:{backgroundColor:a.bgColor,color:a.textColor},children:[c.jsx("span",{className:"toast-icon",children:a.icon}),c.jsx("span",{className:"toast-message",children:e})]})})},L0=()=>{const{user:e,profile:t,loading:n,authError:r,refreshProfile:s,clearAuthError:i}=Ll(),[o,a]=S.useState([]),[l,u]=S.useState(!1),[d,h]=S.useState(!0),[g,y]=S.useState("happy"),[x,v]=S.useState(""),[_,m]=S.useState(!1),[p,f]=S.useState([]),[w,k]=S.useState(!1);S.useEffect(()=>{e&&t?(O(),U(),L()):n||h(!1)},[e,t,n]),S.useEffect(()=>{let N=null;return e&&(N=C0(e.id,R=>{s()})),()=>{N&&N.unsubscribe()}},[e]);const j=[{id:1,title:"Variables & Data Types",description:"Understand strings, integers, and booleans.",icon:"💾",difficulty:"Beginner"},{id:2,title:"Loops",description:"Practice for, while, and range loops.",icon:"🔄",difficulty:"Medium"},{id:3,title:"Functions",description:"Learn how to define and call functions.",icon:"⚙️",difficulty:"Medium"},{id:4,title:"Lists & Dictionaries",description:"Use collections to store and retrieve data.",icon:"📚",difficulty:"Hard"},{id:5,title:"Object-Oriented Programming",description:"Master classes and objects in Python.",icon:"🏗️",difficulty:"Hard"},{id:6,title:"Error Handling",description:"Learn try-catch and debugging techniques.",icon:"🛠️",difficulty:"Medium"}],C=[{opponent:"Anya",result:"Won",xp:"+20 XP",time:"2m 30s"},{opponent:"Leo",result:"Lost",xp:"+5 XP",time:"3m 10s"},{opponent:"Maya",result:"Won",xp:"+15 XP",time:"1m 45s"},{opponent:"Alex",result:"Lost",xp:"+3 XP",time:"4m 20s"},{opponent:"Sam",result:"Won",xp:"+25 XP",time:"2m 05s"}],O=async()=>{try{const{data:N,error:R}=await f0(e.id);if(R)throw R;a(N||[])}catch(N){console.error("Error fetching user lessons:",N)}finally{h(!1)}},U=()=>{(t==null?void 0:t.daily_streak)>=3&&t.daily_streak%3===0&&setTimeout(()=>{G(`🔥 ${t.daily_streak}-day streak bonus!`,"streak"),G("+5 XP bonus!","xp_bonus"),Pe(5)},1e3)},L=()=>{if(!t)return;const N=new Date,R=new Date(t.last_activity),M=(N-R)/(1e3*60*60);t.daily_streak>=7?(y("celebrating"),v("You're on fire! 🔥")):t.daily_streak>=3?(y("proud"),v("Great streak going!")):M>24?(y("tired"),v("Ready to code again?")):t.total_xp>=1e3?(y("excited"),v("Coding master!")):(y("happy"),v("Let's learn together!"))},G=(N,R="success")=>{const Y={id:Date.now(),message:N,type:R};f(_t=>[..._t,Y])},Ye=N=>{f(R=>R.filter(M=>M.id!==N))},Pe=async N=>{if(e)try{await ba(e.id,N)}catch(R){console.error("Error adding XP:",R)}},wt=async()=>{y("celebrating"),v("Amazing work!"),m(!0),setTimeout(()=>{G("Lesson completed!","achievement"),G("+25 XP earned!","xp_bonus"),Pe(25)},500),setTimeout(()=>{m(!1),y("happy"),v("Ready for the next challenge?")},3e3)},Ze=N=>{y("excited"),v(`Let's learn ${N.title}!`),m(!0),setTimeout(()=>{G(`Starting "${N.title}" lesson!`,"achievement"),G("Get ready to earn XP!","encouragement")},500),setTimeout(()=>{m(!1),y("happy"),v("Ready for your next challenge?")},3e3)},Gt=()=>{y("excited"),v("Time to duel!"),k(!0),G("Ready to challenge your friends?","encouragement")};if(r)return c.jsx("div",{className:"dashboard-screen",children:c.jsxs("div",{className:"dashboard-content",children:[c.jsxs("div",{className:"dashboard-header",children:[c.jsx(wr,{mood:"confused",message:"Something went wrong!",size:"large"}),c.jsx("h1",{className:"welcome-text",children:"Authentication Error"})]}),c.jsxs(Ra,{children:[c.jsx("h2",{className:"card-title",children:"⚠️ Error Loading Application"}),c.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"There was a problem loading your authentication data:"}),c.jsx("div",{style:{background:"#ffebee",color:"#c62828",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontFamily:"monospace",fontSize:"14px",wordBreak:"break-word"},children:r}),c.jsxs("div",{style:{display:"flex",gap:"12px"},children:[c.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"🔄 Reload Page"}),c.jsx("button",{onClick:i,style:{padding:"12px 24px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"✨ Try Again"})]})]})]})});if(n||d)return c.jsx("div",{className:"dashboard-screen",children:c.jsx("div",{className:"dashboard-content",children:c.jsxs("div",{className:"dashboard-header",children:[c.jsx(wr,{mood:"thinking",message:"Loading your progress...",size:"large"}),c.jsx("h1",{className:"welcome-text",children:"Loading ChamCode..."})]})})});if(!e)return c.jsx("div",{className:"dashboard-screen",children:c.jsxs("div",{className:"dashboard-content",children:[c.jsxs("div",{className:"dashboard-header",children:[c.jsx(wr,{mood:"excited",message:"Welcome to ChamCode!",size:"large"}),c.jsx("h1",{className:"welcome-text",children:"Start Your Coding Journey"})]}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"card-title",children:"🚀 Begin Learning"}),c.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"Join thousands of learners mastering programming skills with our interactive lessons."}),c.jsx("button",{className:"auth-button",onClick:()=>u(!0),style:{width:"100%",padding:"14px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Get Started"})]}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"card-title",children:"Why Choose ChamCode?"}),c.jsxs("div",{className:"quick-actions",children:[c.jsxs("div",{className:"action-item",children:[c.jsx("div",{className:"action-emoji",children:"🎯"}),c.jsx("div",{className:"action-text",children:"Interactive"}),c.jsx("div",{className:"action-subtext",children:"Hands-on learning"})]}),c.jsxs("div",{className:"action-item",children:[c.jsx("div",{className:"action-emoji",children:"🏆"}),c.jsx("div",{className:"action-text",children:"Gamified"}),c.jsx("div",{className:"action-subtext",children:"Earn XP & ranks"})]}),c.jsxs("div",{className:"action-item",children:[c.jsx("div",{className:"action-emoji",children:"👥"}),c.jsx("div",{className:"action-text",children:"Community"}),c.jsx("div",{className:"action-subtext",children:"Learn together"})]})]})]}),c.jsx(ff,{isOpen:l,onClose:()=>u(!1)})]})});const Kt=6,P=o.length;return c.jsxs("div",{className:"dashboard-screen",children:[c.jsxs("div",{className:"dashboard-content",children:[c.jsxs("div",{className:"dashboard-header",children:[c.jsx(wr,{mood:g,message:x,size:"large",showAnimation:_}),c.jsxs("h1",{className:"welcome-text",children:["Welcome back, ",(t==null?void 0:t.username)||"Coder","!"]})]}),c.jsx("div",{className:"stats-card",children:c.jsxs("div",{className:"stats-row",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-value",children:(t==null?void 0:t.total_xp)||0}),c.jsx("div",{className:"stat-label",children:"Total XP"})]}),c.jsx("div",{className:"stat-divider"}),c.jsxs("div",{className:"stat-item",children:[c.jsx(T0,{rank:(t==null?void 0:t.current_rank)||"Bronze"}),c.jsx("div",{className:"stat-label",children:"Current Rank"})]}),c.jsx("div",{className:"stat-divider"}),c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-value",children:(t==null?void 0:t.daily_streak)||0}),c.jsx("div",{className:"stat-label-streak",children:"🔥 Day Streak"})]})]})}),c.jsx(O0,{currentXP:(t==null?void 0:t.total_xp)||0,currentRank:(t==null?void 0:t.current_rank)||"Bronze"}),c.jsxs("div",{className:"lesson-carousel-section",children:[c.jsxs("div",{className:"carousel-header",children:[c.jsx("h2",{className:"carousel-title",children:"📚 Continue Learning"}),c.jsx("button",{className:"view-all-btn",children:"View All"})]}),c.jsx("div",{className:"lesson-carousel-container",children:c.jsx("div",{className:"lesson-carousel",children:[...j,...j].map((N,R)=>c.jsx("div",{className:"lesson-card",onClick:()=>Ze(N),children:c.jsxs("div",{className:"lesson-card-content",children:[c.jsxs("div",{children:[c.jsx("div",{className:"lesson-icon-placeholder",children:N.icon}),c.jsx("h3",{className:"lesson-title",children:N.title}),c.jsx("p",{className:"lesson-description",children:N.description})]}),c.jsxs("div",{className:"lesson-footer",children:[c.jsx("span",{className:"lesson-difficulty",children:N.difficulty}),c.jsx("button",{className:"lesson-start-btn",children:"Start"})]})]})},`${N.id}-${R}`))})})]}),c.jsx("div",{className:"duel-section",children:c.jsxs("div",{className:"duel-card",children:[c.jsxs("div",{className:"duel-header",children:[c.jsx("h2",{className:"duel-title",children:"⚔️ Duel with Friends"}),c.jsx("div",{className:"duel-icon",children:"🏆"})]}),c.jsx("p",{className:"duel-description",children:"Challenge your friends to coding duels and climb the leaderboard together!"}),c.jsx("button",{className:"duel-button",onClick:Gt,children:"Start Duel Challenge"})]})}),(t==null?void 0:t.earned_badges)&&t.earned_badges.length>0&&c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"card-title",children:"🏅 Your Achievements"}),c.jsx("div",{className:"badges-grid",children:t.earned_badges.slice(0,4).map((N,R)=>c.jsx(b0,{badgeType:N,size:"small"},R))}),t.earned_badges.length>4&&c.jsxs("div",{className:"badges-more",children:["+",t.earned_badges.length-4," more badges"]})]}),c.jsxs("div",{className:"quick-actions-section",children:[c.jsx("h2",{className:"section-title",children:"🎯 Quick Actions"}),c.jsxs("div",{className:"quick-actions",children:[c.jsxs("div",{className:"action-card",onClick:wt,children:[c.jsx("div",{className:"action-emoji",children:"📝"}),c.jsx("div",{className:"action-text",children:"Next Lesson"}),c.jsx("div",{className:"action-subtext",children:P<Kt?"Ready to start":"All complete!"})]}),c.jsxs("div",{className:"action-card",children:[c.jsx("div",{className:"action-emoji",children:"🎯"}),c.jsx("div",{className:"action-text",children:"Daily Goal"}),c.jsx("div",{className:"action-subtext",children:"Keep the streak!"})]})]})]}),P>0&&c.jsx("div",{className:"achievement-card",children:c.jsxs("div",{className:"achievement-header",children:[c.jsx("div",{className:"achievement-emoji",children:"🏆"}),c.jsxs("div",{children:[c.jsx("h3",{className:"achievement-title",children:"Great Progress!"}),c.jsxs("p",{className:"achievement-text",children:["Completed ",P," lessons"]})]})]})})]}),w&&c.jsx("div",{className:"duel-modal-overlay",onClick:()=>k(!1),children:c.jsxs("div",{className:"duel-modal",onClick:N=>N.stopPropagation(),children:[c.jsxs("div",{className:"duel-modal-header",children:[c.jsx("h2",{className:"duel-modal-title",children:"⚔️ Recent Duels"}),c.jsx("button",{className:"close-btn",onClick:()=>k(!1),children:"×"})]}),c.jsx("div",{className:"duel-results",children:C.map((N,R)=>c.jsxs("div",{className:`duel-result-item ${N.result.toLowerCase()}`,children:[c.jsxs("div",{className:"result-info",children:[c.jsxs("div",{className:"result-opponent",children:["vs ",N.opponent]}),c.jsx("div",{className:"result-time",children:N.time})]}),c.jsxs("div",{className:"result-outcome",children:[c.jsx("span",{className:`result-status ${N.result.toLowerCase()}`,children:N.result}),c.jsx("span",{className:"result-xp",children:N.xp})]})]},R))})]})}),p.map(N=>c.jsx($l,{message:N.message,type:N.type,onClose:()=>Ye(N.id)},N.id))]})},$0=()=>{const[e,t]=S.useState("thinking"),[n,r]=S.useState("Choose your challenge!"),[s,i]=S.useState([]),[o,a]=S.useState([1,2]),l=[{id:1,type:"Multiple Choice",title:"Python Variables",description:"Learn about variable types and declarations",xp:25,difficulty:"Beginner",locked:!1,icon:"📝",color:"#34D399",completed:!0},{id:2,type:"Fill in the Blank",title:"Function Returns",description:"Master function return statements",xp:35,difficulty:"Medium",locked:!1,icon:"✏️",color:"#60A5FA",completed:!0},{id:3,type:"Syntax Practice",title:"For Loops",description:"Practice loop syntax and iteration",xp:45,difficulty:"Hard",locked:!1,icon:"🔄",color:"#FF7F6B",completed:!1},{id:4,type:"Multiple Choice",title:"Conditional Statements",description:"Master if-else logic",xp:30,difficulty:"Beginner",locked:!0,icon:"🤔",color:"#A78BFA",completed:!1},{id:5,type:"Fill in the Blank",title:"Data Structures",description:"Learn about lists and dictionaries",xp:40,difficulty:"Medium",locked:!0,icon:"📚",color:"#60A5FA",completed:!1},{id:6,type:"Syntax Practice",title:"Object-Oriented Programming",description:"Introduction to classes and objects",xp:50,difficulty:"Hard",locked:!0,icon:"🏗️",color:"#FF7F6B",completed:!1}],u=(v,_="success")=>{const p={id:Date.now(),message:v,type:_};i(f=>[...f,p])},d=v=>{i(_=>_.filter(m=>m.id!==v))},h=v=>{if(v.locked){t("confused"),r("Complete previous lessons first!"),u("Complete previous lessons to unlock this one!","encouragement"),setTimeout(()=>{t("encouraging"),r("You can do it!")},2e3);return}if(v.completed){t("proud"),r("Already mastered this one!"),u("Lesson already completed! Great job!","achievement");return}t("excited"),r(`Let's tackle ${v.title}!`),window.confirm(`Ready to begin "${v.title}"? You'll earn ${v.xp} XP!`)?setTimeout(()=>{t("celebrating"),r("Outstanding work!"),u(`Lesson "${v.title}" completed!`,"achievement"),u(`+${v.xp} XP earned!`,"xp_bonus");const m=["Cham's impressed! 🦎","One loop at a time! 🦎","Code like a chameleon! 🦎","Adapting and learning! 🦎","You're evolving! 🦎"],p=m[Math.floor(Math.random()*m.length)];setTimeout(()=>{u(p,"encouragement")},1500),a(f=>[...f,v.id])},1e3):(t("thinking"),r("Take your time, I'll be here!"))},g=v=>{switch(v.toLowerCase()){case"beginner":return"var(--color-difficulty-beginner)";case"medium":return"var(--color-difficulty-medium)";case"hard":return"var(--color-difficulty-hard)";default:return"var(--color-difficulty-beginner)"}},x=l.find(v=>!v.completed&&!v.locked);return c.jsxs("div",{className:"lessons-screen",children:[c.jsxs("div",{className:"lessons-content",children:[c.jsx("div",{className:"lessons-header",children:c.jsx(wr,{mood:e,message:n,size:"small"})}),c.jsx("div",{className:"lesson-path",children:l.map((v,_)=>{const m=o.includes(v.id),p=x&&x.id===v.id,f=v.locked&&!m;return c.jsxs("div",{className:"lesson-path-item",children:[_>0&&c.jsx("div",{className:`path-connector ${m||o.includes(l[_-1].id)?"completed":"locked"}`}),c.jsxs(Ra,{onClick:()=>h({...v,completed:m,locked:f}),disabled:f,className:`lesson-card ${f?"locked-card":""} ${p?"next-lesson":""} ${m?"completed-lesson":""}`,children:[c.jsxs("div",{className:"lesson-header",children:[c.jsxs("div",{className:"lesson-icon-container",children:[c.jsx("div",{className:"lesson-icon",style:{filter:f?"grayscale(100%) opacity(0.5)":"none",color:v.color},children:v.icon}),f&&c.jsx("div",{className:"lock-overlay",children:c.jsx("span",{className:"lock-icon",children:"🔒"})}),m&&c.jsx("div",{className:"completed-overlay",children:c.jsx("span",{className:"completed-icon",children:"✅"})}),p&&c.jsx("div",{className:"next-indicator",children:c.jsx("span",{className:"next-icon",children:"▶️"})})]}),c.jsxs("div",{className:"lesson-info",children:[c.jsxs("div",{className:"lesson-title-row",children:[c.jsx("h3",{className:`lesson-title ${f?"locked-text":""} ${m?"completed-text":""}`,children:v.title}),c.jsx("div",{className:"difficulty-badge",style:{backgroundColor:g(v.difficulty)},children:c.jsx("span",{className:"difficulty-text",children:v.difficulty})})]}),c.jsx("div",{className:"lesson-type",style:{color:f?"#999":v.color},children:v.type}),c.jsx("p",{className:`lesson-description ${f?"locked-text":""}`,children:v.description}),c.jsxs("div",{className:"lesson-footer",children:[c.jsxs("div",{className:"xp-container",children:[c.jsx("span",{className:"star-icon",children:"⭐"}),c.jsxs("span",{className:"xp-text",children:[v.xp," XP"]})]}),!f&&!m&&c.jsx("button",{className:"start-button",style:{backgroundColor:v.color},onClick:w=>{w.stopPropagation(),h({...v,completed:m,locked:f})},children:p?"Continue":"Start"}),m&&c.jsx("div",{className:"completed-badge",children:c.jsx("span",{className:"completed-text",children:"Completed!"})})]})]})]}),!f&&c.jsx("div",{className:"mascot-reaction",children:c.jsxs("div",{className:"reaction-text",children:[m&&"🦎 Well done!",!m&&v.difficulty==="Beginner"&&"🦎 Great for starters!",!m&&v.difficulty==="Medium"&&"🦎 Good challenge!",!m&&v.difficulty==="Hard"&&"🦎 You got this!"]})})]})]},v.id)})}),c.jsxs(Ra,{className:"summary-card",children:[c.jsxs("div",{className:"summary-header",children:[c.jsx("h2",{className:"summary-title",children:"Your Progress"}),c.jsx("div",{className:"summary-emoji",children:"📈"})]}),c.jsxs("div",{className:"summary-stats",children:[c.jsxs("div",{className:"summary-item",children:[c.jsxs("div",{className:"summary-value",children:[o.length,"/",l.length]}),c.jsx("div",{className:"summary-label",children:"Completed"})]}),c.jsx("div",{className:"summary-divider"}),c.jsxs("div",{className:"summary-item",children:[c.jsx("div",{className:"summary-value",children:l.reduce((v,_)=>o.includes(_.id)?v+_.xp:v,0)}),c.jsx("div",{className:"summary-label",children:"XP Earned"})]}),c.jsx("div",{className:"summary-divider"}),c.jsxs("div",{className:"summary-item",children:[c.jsx("div",{className:"summary-value",children:l.length-o.length}),c.jsx("div",{className:"summary-label",children:"Remaining"})]})]})]})]}),s.map(v=>c.jsx($l,{message:v.message,type:v.type,onClose:()=>d(v.id)},v.id))]})},A0=({targetUser:e,onClose:t,onComplete:n})=>{const[r,s]=S.useState("challenge"),[i,o]=S.useState(null),a=()=>{s("fighting"),setTimeout(()=>{const l=[{won:!0,xp:15,message:"Victory! Your coding skills prevailed!"},{won:!0,xp:10,message:"Close match, but you pulled through!"},{won:!1,xp:5,message:"Good effort! You still earned some XP."},{won:!1,xp:3,message:"Better luck next time, keep practicing!"}],u=l[Math.floor(Math.random()*l.length)];o(u),s("result"),setTimeout(()=>{n(u),t()},3e3)},2e3)};return c.jsx("div",{className:"duel-overlay",onClick:t,children:c.jsxs("div",{className:"duel-modal",onClick:l=>l.stopPropagation(),children:[r==="challenge"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"duel-header",children:[c.jsx("h2",{children:"⚔️ Code Duel Challenge"}),c.jsx("button",{className:"close-btn",onClick:t,children:"×"})]}),c.jsxs("div",{className:"duel-content",children:[c.jsxs("div",{className:"challenge-info",children:[c.jsxs("div",{className:"challenger-vs",children:[c.jsxs("div",{className:"challenger",children:[c.jsx("div",{className:"user-avatar",children:"🦎"}),c.jsx("div",{className:"user-name",children:"You"})]}),c.jsx("div",{className:"vs-text",children:"VS"}),c.jsxs("div",{className:"opponent",children:[c.jsx("div",{className:"user-avatar",children:"👤"}),c.jsx("div",{className:"user-name",children:e.username})]})]}),c.jsxs("div",{className:"duel-description",children:[c.jsxs("p",{children:["Challenge ",c.jsx("strong",{children:e.username})," to a 3-question coding duel!"]}),c.jsxs("div",{className:"duel-rules",children:[c.jsx("div",{className:"rule",children:"🎯 3 coding questions"}),c.jsx("div",{className:"rule",children:"⏱️ 60 seconds each"}),c.jsx("div",{className:"rule",children:"🏆 Winner takes XP"})]})]})]}),c.jsx("button",{className:"start-duel-btn",onClick:a,children:"Start Duel!"})]})]}),r==="fighting"&&c.jsxs("div",{className:"duel-fighting",children:[c.jsx("div",{className:"fighting-header",children:c.jsx("h2",{children:"🔥 Duel in Progress"})}),c.jsxs("div",{className:"fighting-animation",children:[c.jsxs("div",{className:"code-battle",children:[c.jsx("div",{className:"code-line",children:'<div className="battle">'}),c.jsx("div",{className:"code-line",children:"  const winner = fight();"}),c.jsx("div",{className:"code-line",children:"</div>"})]}),c.jsx("div",{className:"loading-text",children:"Calculating results..."})]})]}),r==="result"&&i&&c.jsxs("div",{className:"duel-result",children:[c.jsx("div",{className:"result-header",children:c.jsx("h2",{children:i.won?"🎉 Victory!":"😅 Good Try!"})}),c.jsxs("div",{className:"result-content",children:[c.jsx("div",{className:"result-message",children:i.message}),c.jsxs("div",{className:"xp-reward",children:[c.jsx("span",{className:"xp-icon",children:"⭐"}),c.jsxs("span",{className:"xp-amount",children:["+",i.xp," XP"]})]}),c.jsx("div",{className:"result-footer",children:c.jsx("div",{className:"auto-close",children:"Closing automatically..."})})]})]})]})})},I0=({isOpen:e,onClose:t,onFriendAdded:n})=>{const{user:r}=Ll(),[s,i]=S.useState("requests"),[o,a]=S.useState([]),[l,u]=S.useState(""),[d,h]=S.useState([]),[g,y]=S.useState(!1),[x,v]=S.useState("");S.useEffect(()=>{e&&r&&_()},[e,r]);const _=async()=>{try{const{data:w,error:k}=await v0(r.id);if(k)throw k;a(w||[])}catch(w){console.error("Error fetching friend requests:",w)}},m=async()=>{if(!l.trim()){h([]);return}y(!0);try{const{data:w,error:k}=await _0(l,r.id);if(k)throw k;h(w||[])}catch(w){console.error("Error searching users:",w),v("Error searching users")}finally{y(!1)}},p=async w=>{y(!0);try{const{data:k,error:j}=await y0(r.id,w);if(j)throw j;k.success?(v("Friend request sent!"),u(""),h([])):v(k.message)}catch(k){console.error("Error sending friend request:",k),v("Error sending friend request")}finally{y(!1)}},f=async(w,k)=>{y(!0);try{const{data:j,error:C}=await w0(r.id,w,k);if(C)throw C;j.success?(v(`Friend request ${k}!`),_(),k==="accepted"&&n&&n()):v(j.message)}catch(j){console.error("Error responding to friend request:",j),v("Error responding to request")}finally{y(!1)}};return e?c.jsx("div",{className:"friend-modal-overlay",onClick:t,children:c.jsxs("div",{className:"friend-modal",onClick:w=>w.stopPropagation(),children:[c.jsxs("div",{className:"friend-modal-header",children:[c.jsx("h2",{children:"👥 Friends"}),c.jsx("button",{className:"close-btn",onClick:t,children:"×"})]}),c.jsxs("div",{className:"friend-tabs",children:[c.jsxs("button",{className:`friend-tab ${s==="requests"?"active":""}`,onClick:()=>i("requests"),children:["Requests (",o.length,")"]}),c.jsx("button",{className:`friend-tab ${s==="search"?"active":""}`,onClick:()=>i("search"),children:"Add Friends"})]}),c.jsxs("div",{className:"friend-modal-content",children:[x&&c.jsx("div",{className:"friend-message",children:x}),s==="requests"&&c.jsx("div",{className:"requests-section",children:o.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-emoji",children:"📭"}),c.jsx("p",{children:"No pending friend requests"})]}):c.jsx("div",{className:"requests-list",children:o.map(w=>c.jsxs("div",{className:"request-item",children:[c.jsxs("div",{className:"request-info",children:[c.jsx("div",{className:"request-username",children:w.profiles.username}),c.jsxs("div",{className:"request-stats",children:[w.profiles.total_xp," XP • ",w.profiles.current_rank]})]}),c.jsxs("div",{className:"request-actions",children:[c.jsx("button",{className:"accept-btn",onClick:()=>f(w.id,"accepted"),disabled:g,children:"✓"}),c.jsx("button",{className:"decline-btn",onClick:()=>f(w.id,"declined"),disabled:g,children:"✗"})]})]},w.id))})}),s==="search"&&c.jsxs("div",{className:"search-section",children:[c.jsxs("div",{className:"search-input-container",children:[c.jsx("input",{type:"text",placeholder:"Search by username...",value:l,onChange:w=>u(w.target.value),onKeyPress:w=>w.key==="Enter"&&m(),className:"search-input"}),c.jsx("button",{className:"search-btn",onClick:m,disabled:g,children:"🔍"})]}),d.length>0&&c.jsx("div",{className:"search-results",children:d.map(w=>c.jsxs("div",{className:"search-result-item",children:[c.jsxs("div",{className:"result-info",children:[c.jsx("div",{className:"result-username",children:w.username}),c.jsxs("div",{className:"result-stats",children:[w.total_xp," XP • ",w.current_rank]})]}),c.jsx("button",{className:"add-friend-btn",onClick:()=>p(w.username),disabled:g,children:"Add Friend"})]},w.id))})]})]})]})}):null},D0=()=>{const{user:e,profile:t,loading:n,authError:r,clearAuthError:s}=Ll(),[i,o]=S.useState("Global"),[a,l]=S.useState("all"),[u,d]=S.useState([]),[h,g]=S.useState([]),[y,x]=S.useState(0),[v,_]=S.useState(null),[m,p]=S.useState(!1),[f,w]=S.useState(!1),[k,j]=S.useState([]),[C,O]=S.useState(!0),[U,L]=S.useState(!1),[G,Ye]=S.useState(null),Pe=S.useRef(null),wt=S.useRef(null);if(r)return c.jsx("div",{className:"leaderboard-screen",children:c.jsx("div",{className:"leaderboard-content",children:c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"empty-icon",children:"⚠️"}),c.jsx("h1",{className:"empty-title",children:"Authentication Error"}),c.jsx("p",{className:"empty-description",children:"Failed to load authentication data"}),c.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[c.jsx("button",{onClick:()=>window.location.reload(),className:"friends-btn",children:"🔄 Reload Page"}),c.jsx("button",{onClick:s,className:"friends-btn",children:"✨ Try Again"})]})]})})});S.useEffect(()=>(n||(e?(Ze(),N()):O(!1)),()=>{Pe.current&&Pe.current.unsubscribe(),wt.current&&E0(e==null?void 0:e.id)}),[e,n,a]);const Ze=async(T=!1)=>{if(e){T?L(!0):O(!0),Ye(null);try{console.log("Fetching leaderboard data...");const{data:D,error:B}=await p0(50);if(B)throw console.error("Global leaderboard error:",B),B;console.log("Global leaderboard data:",D),d(D||[]),await Gt();const{data:Ae,error:vn}=await m0(e.id);vn&&console.error("User rank error:",vn),console.log("User rank data:",Ae),x(Ae||0)}catch(D){console.error("Error fetching leaderboard data:",D),Ye(D.message),R("Error loading leaderboard data","encouragement")}finally{O(!1),L(!1)}}},Gt=async()=>{if(e)try{const{data:T,error:D}=await g0(e.id);D&&console.error("Friends leaderboard error:",D),console.log("Friends leaderboard data:",T);const B=(T||[]).map((Ae,vn)=>({...Ae,position:vn+1,cham_color:Kt(Ae.total_xp),earned_badges:P(Ae.total_xp,Ae.current_rank)}));g(B)}catch(T){console.error("Error fetching friends list:",T),g([])}},Kt=T=>T>=2500?"#FFD700":T>=1e3?"#C0C0C0":"#CD7F32",P=(T,D)=>{const B=[];return T>=100&&B.push("100_xp_club"),T>=25&&B.push("first_lesson"),D==="Bronze"&&B.push("bronze_rank"),D==="Silver"&&B.push("silver_rank"),D==="Gold"&&B.push("gold_rank"),B},N=()=>{if(e)try{Pe.current||(Pe.current=S0(()=>{console.log("Leaderboard changed, refreshing..."),Ze()})),wt.current||(wt.current=j0(e.id,()=>{R("New friend request received!","achievement")}))}catch(T){console.error("Error setting up real-time subscriptions:",T)}},R=(T,D="success")=>{const Ae={id:Date.now(),message:T,type:D};j(vn=>[...vn,Ae])},M=T=>{j(D=>D.filter(B=>B.id!==T))},Y=async T=>{if(e){navigator.vibrate&&navigator.vibrate(50);try{const{data:D,error:B}=await x0(e.id,T.id);if(B)throw B;_({...T,duelId:D.id})}catch(D){console.error("Error creating duel:",D),R("Error starting duel","encouragement")}}},_t=async T=>{if(!(!v||!e))try{const D=T.won?e.id:v.id,{data:B,error:Ae}=await k0(v.duelId,D,T.xp);if(Ae)throw Ae;T.won?R(`Duel won! +${T.xp} XP`,"achievement"):R(`Good effort! +${B.loser_xp} XP`,"encouragement"),Ze()}catch(D){console.error("Error completing duel:",D),R("Error completing duel","encouragement")}},it=()=>{Ze(),R("Friend added successfully!","achievement")},sr=S.useCallback(()=>{if(navigator.vibrate&&navigator.vibrate([50,50,50]),navigator.share)navigator.share({title:"ChamCode Leaderboard",text:`Check out my ranking on ChamCode! I'm #${y} with ${(t==null?void 0:t.total_xp)||0} XP.`,url:window.location.href});else{const T=`Check out my ranking on ChamCode! I'm #${y} with ${(t==null?void 0:t.total_xp)||0} XP. ${window.location.href}`;navigator.clipboard.writeText(T),R("Link copied to clipboard!","success")}},[y,t==null?void 0:t.total_xp]),ot=S.useCallback(()=>{navigator.vibrate&&navigator.vibrate(100),Ze(!0)},[e]),Qt=T=>{switch(T){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return T.toString()}},Al=T=>{const D=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#43e97b","#38f9d7","#ffecd2","#fcb69f","#a8edea","#fed6e3"],B=T.id?T.id.charCodeAt(0)%D.length:0;return D[B]},qi=T=>T.username?T.username.charAt(0).toUpperCase():"?";if(!n&&!e)return c.jsxs("div",{className:"leaderboard-screen",children:[c.jsx("div",{className:"leaderboard-nav",children:c.jsx("div",{className:"nav-header",children:c.jsx("h1",{className:"nav-title",children:"Leaderboard"})})}),c.jsxs("div",{className:"leaderboard-content",children:[c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"empty-icon",children:"🔒"}),c.jsx("h2",{className:"empty-title",children:"Sign In Required"}),c.jsx("p",{className:"empty-description",children:"Sign in to view the leaderboard and compete with other coders!"}),c.jsx("button",{className:"friends-btn",onClick:()=>w(!0),style:{marginTop:"20px"},children:"Sign In"})]}),c.jsx(ff,{isOpen:f,onClose:()=>w(!1)})]})]});if(n||C)return c.jsxs("div",{className:"leaderboard-screen",children:[c.jsx("div",{className:"leaderboard-nav",children:c.jsx("div",{className:"nav-header",children:c.jsx("h1",{className:"nav-title",children:"Leaderboard"})})}),c.jsx("div",{className:"leaderboard-content",children:c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{className:"loading-text",children:"Loading rankings..."})]})})]});if(G)return c.jsxs("div",{className:"leaderboard-screen",children:[c.jsx("div",{className:"leaderboard-nav",children:c.jsx("div",{className:"nav-header",children:c.jsx("h1",{className:"nav-title",children:"Leaderboard"})})}),c.jsx("div",{className:"leaderboard-content",children:c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"empty-icon",children:"⚠️"}),c.jsx("h2",{className:"empty-title",children:"Unable to Load"}),c.jsx("p",{className:"empty-description",children:"Please check your connection and try again."}),c.jsx("button",{className:"friends-btn",onClick:()=>Ze(),style:{marginTop:"20px"},children:"Retry"})]})})]});const ls=i==="Global"?u:h,Il=ls.slice(0,3);return ls.slice(3),c.jsxs("div",{className:"leaderboard-screen",children:[c.jsxs("div",{className:"leaderboard-nav",children:[c.jsxs("div",{className:"nav-header",children:[c.jsx("h1",{className:"nav-title",children:"Leaderboard"}),c.jsx("button",{className:"share-button haptic-feedback",onClick:sr,children:"📤"})]}),c.jsx("div",{className:"period-filter",children:["Daily","Weekly","Monthly","All Time"].map(T=>c.jsx("button",{className:`period-button ${a===T.toLowerCase().replace(" ","")?"active":""}`,onClick:()=>l(T.toLowerCase().replace(" ","")),children:T},T))}),c.jsxs("div",{className:"tab-container",children:[c.jsx("button",{className:`tab-button ${i==="Global"?"active":""}`,onClick:()=>o("Global"),children:"Global"}),c.jsxs("button",{className:`tab-button ${i==="Friends"?"active":""}`,onClick:()=>o("Friends"),children:["Friends (",h.length,")"]})]})]}),c.jsxs("div",{className:"leaderboard-content",children:[c.jsxs("div",{className:`pull-to-refresh ${U?"active":""}`,onClick:ot,children:[c.jsx("span",{className:"refresh-icon ",children:U?"🔄":"⬇️"}),U?"Refreshing...":"Pull to refresh"]}),t&&c.jsxs("div",{className:"current-user-section fade-in",children:[c.jsx("div",{className:"current-user-title",children:"Your Position"}),c.jsxs("div",{className:"player-item current-user",children:[c.jsxs("div",{className:"player-rank",children:["#",i==="Global"?y:h.findIndex(T=>T.id===(t==null?void 0:t.id))+1||"-"]}),c.jsx("div",{className:"player-avatar",style:{background:`linear-gradient(135deg, ${t.cham_color||"#667eea"} 0%, ${t.cham_color||"#764ba2"} 100%)`},children:qi(t)}),c.jsxs("div",{className:"player-info",children:[c.jsx("div",{className:"player-name",children:t.username}),c.jsxs("div",{className:"player-score",children:[t.total_xp," XP • ",t.current_rank]})]}),c.jsx("div",{className:"player-actions",children:c.jsx("div",{className:`badge ${t.current_rank.toLowerCase()}`,children:t.current_rank})})]})]}),Il.length>=3&&c.jsxs("div",{className:"podium-section slide-up",children:[c.jsx("h2",{className:"podium-title",children:"🏆 Top Champions"}),c.jsx("div",{className:"podium-container",children:[1,0,2].map(T=>{const D=Il[T];if(!D)return null;const B=T===1?"first":T===0?"second":"third";return c.jsxs("div",{className:`podium-player ${B}`,children:[c.jsxs("div",{className:"podium-avatar",style:{background:Al(D)},children:[qi(D),c.jsx("div",{className:"podium-rank",children:Qt(D.position)})]}),c.jsx("div",{className:"podium-username",children:D.username}),c.jsxs("div",{className:"podium-score",children:[D.total_xp," XP"]})]},D.id)})})]}),c.jsxs("div",{className:"leaderboard-list slide-up",children:[c.jsxs("div",{className:"list-header",children:[c.jsx("h3",{className:"list-title",children:i==="Global"?"All Players":"Your Friends"}),c.jsx("button",{className:"friends-btn",onClick:()=>p(!0),children:"👥 Friends"})]}),ls.length===0?c.jsx("div",{className:"loading-container",children:i==="Friends"?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"empty-icon",children:"👥"}),c.jsx("h3",{className:"empty-title",children:"No Friends Yet"}),c.jsx("p",{className:"empty-description",children:"Add friends to see how you compare!"}),c.jsx("button",{className:"friends-btn",onClick:()=>p(!0),style:{marginTop:"20px"},children:"Add Friends"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"empty-icon",children:"🌍"}),c.jsx("h3",{className:"empty-title",children:"No Rankings Yet"}),c.jsx("p",{className:"empty-description",children:"Be the first to earn some XP!"})]})}):ls.map((T,D)=>{const B=T.id===(t==null?void 0:t.id);return c.jsxs("div",{className:`player-item haptic-feedback ${B?"current-user":""}`,children:[c.jsx("div",{className:`player-rank ${T.position<=3?"top-three":""}`,children:Qt(T.position)}),c.jsx("div",{className:"player-avatar",style:{background:Al(T)},children:qi(T)}),c.jsxs("div",{className:"player-info",children:[c.jsxs("div",{className:"player-name",children:[T.username,B&&" (You)"]}),c.jsxs("div",{className:"player-score",children:[T.total_xp," XP • ",T.current_rank]})]}),c.jsxs("div",{className:"player-actions",children:[c.jsx("div",{className:`badge ${T.current_rank.toLowerCase()}`,children:T.current_rank}),!B&&c.jsx("button",{className:"challenge-btn haptic-feedback",onClick:()=>Y(T),children:"⚔️"})]})]},T.id)})]})]}),c.jsx(I0,{isOpen:m,onClose:()=>p(!1),onFriendAdded:it}),v&&c.jsx(A0,{targetUser:v,onClose:()=>_(null),onComplete:_t}),k.map(T=>c.jsx($l,{message:T.message,type:T.type,onClose:()=>M(T.id)},T.id))]})},U0=()=>c.jsx(N0,{children:c.jsx(Bg,{children:c.jsxs("div",{className:"app",children:[c.jsx("div",{className:"app-content",children:c.jsxs(Ag,{children:[c.jsx(Ws,{path:"/",element:c.jsx(L0,{})}),c.jsx(Ws,{path:"/lessons",element:c.jsx($0,{})}),c.jsx(Ws,{path:"/leaderboard",element:c.jsx(D0,{})})]})}),c.jsx(P0,{})]})})});Eo.createRoot(document.getElementById("root")).render(c.jsx(Cc.StrictMode,{children:c.jsx(U0,{})}));
